class t{text="";cursor=0;line=1;column=1;#t={cursor:0,line:1,column:1};constructor(t){this.text=t}read(t=1){let e="",i=this.cursor;for(let s=0;s<t;s+=1){let t=this.text[i+s];if(void 0===t)break;e+=t,this.cursor+=1,"\n"===t?(this.line+=1,this.column=1):this.column+=1}return""===e?null:e}peek(t=1){let e="";for(let i=0;i<t;i+=1){let t=this.text[this.cursor+i];if(void 0===t)break;e+=t}return""===e?null:e}eatSpaces(){let t="";for(;" "===this.peek();)t+=this.read();return t}eatWhitespace(){let t="";for(;" "===this.peek()||"\n"===this.peek();)t+=this.read();return t}storePosition(){let{cursor:t,line:e,column:i}=this;this.#t={cursor:t,line:e,column:i}}restorePosition(){let{cursor:t,line:e,column:i}=this.#t;this.cursor=t,this.line=e,this.column=i}}let{max:e,pow:i,sqrt:s,PI:n}=Math,o=(t,e=0)=>{let s=i(10,e);return Math.round(t*s)/s},h=(t,e=0)=>new DOMRect(o(t.x,e),o(t.y,e),o(t.width,e),o(t.height,e)),r=(t,e,i=Infinity,s=null)=>(null!==s&&(t=o(t,s)),t<e?t=e:t>i&&(t=i),t),a=t=>{if(isFinite(t)){let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i+=1;return i}return 0},l=(t,e)=>{let i=e.x-t.x;i*=i;let n=e.y-t.y;return n*=n,s(i+n)},{min:d,max:u,floor:c,pow:p,atan2:m,PI:g,sqrt:b}=Math,f=(t,e,i)=>{let s,n,o,h=u(t/=255,e/=255,i/=255),a=d(t,e,i);if(s=n=o=(h+a)/2,h===a)s=n=0;else{let r=h-a;if(n=o>.5?r/(2-h-a):r/(h+a),h===t){let t;t=e<i?6:0,s=(e-i)/r+t}else h===e?s=(i-t)/r+2:h===i&&(s=(t-e)/r+4)}return s=r(s/6*360,0,360,0),n=r(100*n,0,100,1),o=r(100*o,0,100,1),[s,n,o]},x=(t,e,i)=>{let s,n,o;if(t/=360,i/=100,0===(e/=100))s=n=o=i;else{let h,r,a=(t,e,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t);h=i<.5?i*(1+e):i+e-i*e,r=2*i-h,s=a(r,h,t+1/3),n=a(r,h,t),o=a(r,h,t-1/3)}return s=r(255*s,0,255,0),n=r(255*n,0,255,0),o=r(255*o,0,255,0),[s,n,o]},w=(t,e,i)=>{e/=100,i/=100;let s=c(6*(t/=360)),n=6*t-s,o=i*(1-e),h=i*(1-n*e),r=i*(1-(1-n)*e),a=0,l=0,d=0;return s%6==0?(a=i,l=r,d=o):s%6==1?(a=h,l=i,d=o):s%6==2?(a=o,l=i,d=r):s%6==3?(a=o,l=h,d=i):s%6==4?(a=r,l=o,d=i):s%6==5&&(a=i,l=o,d=h),a*=255,l*=255,d*=255,[a,l,d]},v=(t,e="rgba",i="hex")=>{let s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){let n,o,h,a;if("rgba"===e?[n,o,h,a]=t:"hsla"===e?([n,o,h]=x(...t),a=t[3]):"hsva"===e&&([n,o,h]=w(...t),a=t[3]),"rgb%"===i||"rgba%"===i?(n=r(n/255*100,0,100,1),o=r(o/255*100,0,100,1),h=r(h/255*100,0,100,1),a=r(a,0,1,2)):(n=r(n,0,255,0),o=r(o,0,255,0),h=r(h,0,255,0),a=r(a,0,1,2)),"rgb"===i)s=`rgb(${n}, ${o}, ${h})`;else if("rgba"===i)s=`rgba(${n}, ${o}, ${h}, ${a})`;else if("rgb%"===i)s=`rgb(${n}%, ${o}%, ${h}%)`;else if("rgba%"===i)s=`rgb(${n}%, ${o}%, ${h}%, ${a})`;else if("hex"===i){let t=n.toString(16),e=o.toString(16),i=h.toString(16);1===t.length&&(t="0"+t),1===e.length&&(e="0"+e),1===i.length&&(i="0"+i),s="#"+t+e+i}}else if("hsl"===i||"hsla"===i){let n,o,h,a;"hsla"===e?[n,o,h,a]=t:"hsva"===e?([n,o,h]=((t,e,i)=>{let s=t/=360,n=(2-(e/=100))*(i/=100),o=e*i;return n<=1?0===n?o=0:o/=n:2===n?o=0:o/=2-n,n/=2,s*=360,o=100*u(0,d(1,o)),n=100*u(0,d(1,n)),[s,o,n]})(...t),a=t[3]):"rgba"===e&&([n,o,h]=f(...t),a=t[3]),n=r(n,0,360,0),o=r(o,0,100,1),h=r(h,0,100,1),a=r(a,0,1,2),"hsl"===i?s=`hsl(${n}, ${o}%, ${h}%)`:"hsla"===i&&(s=`hsla(${n}, ${o}%, ${h}%, ${a})`)}return s},y=(t,e)=>{let i=e.startsWith("hsl")?"hsla":"rgba",s=(new E).parse(t,i);return v(s,i,e)},k=t=>{if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);let e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];for(let i of t)if(!e.includes(i))return!1;return!0},z=()=>new Promise((t=>{if(z.url)t(z.url);else if(z.callbacks)z.callbacks.push(t);else{z.callbacks=[t];let e=300,i=document.createElement("canvas"),s=i.getContext("2d"),n=s.createImageData(e,e),o=n.data,h=e/2,r=0;i.width=e,i.height=e;for(let t=0;t<e;t++)for(let i=0;i<e;i++){let e=i-h,s=t-h,n=p(e,2)+p(s,2),a=(m(s,e)+g)/(2*g)*360,l=b(n)/h*100,[d,u,c]=w(a,l,100),f=n>p(h,2)?0:255;o[r++]=d,o[r++]=u,o[r++]=c,o[r++]=f}s.putImageData(n,0,0),i.toBlob((t=>{z.url=URL.createObjectURL(t);for(let t of z.callbacks)t(z.url)}))}})),{parseFloat:C,parseInt:S}=Number;class E{static#e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};parse(t,e="rgba"){t=t.trim();let i=this.#i(t),s=null,n=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[C(i[1].text),C(i[3].text),C(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[C(i[1].text)/100*255,C(i[3].text)/100*255,C(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[C(i[1].text),C(i[3].text),C(i[5].text),C(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[C(i[1].text)/100*255,C(i[3].text)/100*255,C(i[5].text)/100*255,C(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)n=[C(i[1].text),C(i[3].text),C(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)n=[C(i[1].text),C(i[3].text),C(i[5].text),C(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){let t,e,n,o=i[0].text.substring(1);3===o.length?(t=o[0]+o[0],e=o[1]+o[1],n=o[2]+o[2]):(t=o[0]+o[1],e=o[2]+o[3],n=o[4]+o[5]),s=[S(t,16),S(e,16),S(n,16),1]}else E.#e[t]&&(s=[E.#e[t][0],E.#e[t][1],E.#e[t][2],1]);if(s){let[t,i,n,o]=s;if(t=r(t,0,255,0),i=r(i,0,255,0),n=r(n,0,255,0),o=r(o,0,1,2),"hsla"===e){let[e,s,h]=f(t,i,n);return[e,s,h,o]}if("hsva"===e){let[e,s,h]=((t,e,i)=>{let s=u(t/=255,e/=255,i/=255),n=d(t,e,i),o=0,h=0,r=s,a=s-n;return h=0===s?0:a/s,s===n?o=0:(s===t?o=(e-i)/a+(e<i?6:0):s===e?o=(i-t)/a+2:s===i&&(o=(t-e)/a+4),o/=6),o*=360,h*=100,r*=100,[o,h,r]})(t,i,n);return[e,s,h,o]}return[t,i,n,o]}if(n){let[t,i,s,o]=n;if(t=r(t,0,360,0),i=r(i,0,100,1),s=r(s,0,100,1),o=r(o,0,1,2),"hsla"===e)return[t,i,s,o];if("hsva"===e){let[e,n,h]=((t,e,i)=>{e/=100;let s,n,o=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),n=(i+e)/2,o*=360,s=100*u(0,d(1,s)),n=100*u(0,d(1,n)),[o,s,n]})(t,i,s);return[e,n,h,o]}{let[e,n,h]=x(t,i,s);return[e,n,h,o]}}throw new Error(`Invalid color string: "${t}"`)}#i(e){let i=[],s=new t(e.toLowerCase());for(;null!==s.peek();){let t=s.read();(()=>{if("r"===t||"h"===t){let e=t;if(t+s.peek(3)==="rgb("?e+=s.read(3):t+s.peek(4)==="rgba("?e+=s.read(4):t+s.peek(3)==="hsl("?e+=s.read(3):t+s.peek(4)==="hsla("&&(e+=s.read(4)),e!==t)return void i.push({type:"FUNCTION",text:e})}if("#"===t){if(k(t+s.peek(6))){let e=t+s.read(6);return void i.push({type:"HEX",text:e})}if(k(t+s.peek(3))){let e=t+s.read(3);return void i.push({type:"HEX",text:e})}}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){let e=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(s.peek());)e+=s.read();"%"===s.peek()?(e+=s.read(),i.push({type:"PERCENTAGE",text:e})):i.push({type:"NUM",text:e})}else/\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||i.push({type:"CHAR",text:t})})()}return i}}var A=Object.hasOwnProperty,L=Object.setPrototypeOf,M=Object.isFrozen,T=Object.getPrototypeOf,$=Object.getOwnPropertyDescriptor,D=Object.freeze,R=Object.seal,P=Object.create,I="undefined"!=typeof Reflect&&Reflect,O=I.apply,F=I.construct;O||(O=function(t,e,i){return t.apply(e,i)}),D||(D=function(t){return t}),R||(R=function(t){return t}),F||(F=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(e))))});var B,N=Y(Array.prototype.forEach),H=Y(Array.prototype.pop),j=Y(Array.prototype.push),U=Y(String.prototype.toLowerCase),q=Y(String.prototype.match),K=Y(String.prototype.replace),V=Y(String.prototype.indexOf),X=Y(String.prototype.trim),Z=Y(RegExp.prototype.test),G=(B=TypeError,function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return F(B,e)});function Y(t){return function(e){for(var i=arguments.length,s=Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return O(t,e,s)}}function _(t,e){L&&L(t,null);for(var i=e.length;i--;){var s=e[i];if("string"==typeof s){var n=U(s);n!==s&&(M(e)||(e[i]=n),s=n)}t[s]=!0}return t}function W(t){var e=P(null),i=void 0;for(i in t)O(A,t,[i])&&(e[i]=t[i]);return e}function J(t,e){for(;null!==t;){var i=$(t,e);if(i){if(i.get)return Y(i.get);if("function"==typeof i.value)return Y(i.value)}t=T(t)}return function(t){return console.warn("fallback value for",t),null}}var Q=D(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tt=D(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),et=D(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),it=D(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),st=D(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),nt=D(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ot=D(["#text"]),ht=D(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),rt=D(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),at=D(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),lt=D(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),dt=R(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ut=R(/<%[\s\S]*|[\s\S]*%>/gm),ct=R(/^data-[\-\w.\u00B7-\uFFFF]/),pt=R(/^aria-[\-\w]+$/),mt=R(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),gt=R(/^(?:\w+script|data):/i),bt=R(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ft=R(/^html$/i),xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function wt(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var vt=function(){return"undefined"==typeof window?null:window},yt=function(t,e){if("object"!==(void 0===t?"undefined":xt(t))||"function"!=typeof t.createPolicy)return null;var i=null,s="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(s)&&(i=e.currentScript.getAttribute(s));var n="dompurify"+(i?"#"+i:"");try{return t.createPolicy(n,{createHTML:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};var kt=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt(),i=function(e){return t(e)};if(i.version="2.3.6",i.removed=[],!e||!e.document||9!==e.document.nodeType)return i.isSupported=!1,i;var s=e.document,n=e.document,o=e.DocumentFragment,h=e.HTMLTemplateElement,r=e.Node,a=e.Element,l=e.NodeFilter,d=e.NamedNodeMap,u=void 0===d?e.NamedNodeMap||e.MozNamedAttrMap:d,c=e.HTMLFormElement,p=e.DOMParser,m=e.trustedTypes,g=a.prototype,b=J(g,"cloneNode"),f=J(g,"nextSibling"),x=J(g,"childNodes"),w=J(g,"parentNode");if("function"==typeof h){var v=n.createElement("template");v.content&&v.content.ownerDocument&&(n=v.content.ownerDocument)}var y=yt(m,s),k=y?y.createHTML(""):"",z=n,C=z.implementation,S=z.createNodeIterator,E=z.createDocumentFragment,A=z.getElementsByTagName,L=s.importNode,M={};try{M=W(n).documentMode?n.documentMode:{}}catch(t){}var T={};i.isSupported="function"==typeof w&&C&&void 0!==C.createHTMLDocument&&9!==M;var $=dt,R=ut,P=ct,I=pt,O=gt,F=bt,B=mt,Y=null,kt=_({},[].concat(wt(Q),wt(tt),wt(et),wt(st),wt(ot))),zt=null,Ct=_({},[].concat(wt(ht),wt(rt),wt(at),wt(lt))),St=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Et=null,At=null,Lt=!0,Mt=!0,Tt=!1,$t=!1,Dt=!1,Rt=!1,Pt=!1,It=!1,Ot=!1,Ft=!1,Bt=!0,Nt=!0,Ht=!1,jt={},Ut=null,qt=_({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Kt=null,Vt=_({},["audio","video","img","source","image","track"]),Xt=null,Zt=_({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Gt="http://www.w3.org/1998/Math/MathML",Yt="http://www.w3.org/2000/svg",_t="http://www.w3.org/1999/xhtml",Wt=_t,Jt=!1,Qt=void 0,te=["application/xhtml+xml","text/html"],ee="text/html",ie=void 0,se=null,ne=n.createElement("form"),oe=function(t){return t instanceof RegExp||t instanceof Function},he=function(t){se&&se===t||(t&&"object"===(void 0===t?"undefined":xt(t))||(t={}),t=W(t),Y="ALLOWED_TAGS"in t?_({},t.ALLOWED_TAGS):kt,zt="ALLOWED_ATTR"in t?_({},t.ALLOWED_ATTR):Ct,Xt="ADD_URI_SAFE_ATTR"in t?_(W(Zt),t.ADD_URI_SAFE_ATTR):Zt,Kt="ADD_DATA_URI_TAGS"in t?_(W(Vt),t.ADD_DATA_URI_TAGS):Vt,Ut="FORBID_CONTENTS"in t?_({},t.FORBID_CONTENTS):qt,Et="FORBID_TAGS"in t?_({},t.FORBID_TAGS):{},At="FORBID_ATTR"in t?_({},t.FORBID_ATTR):{},jt="USE_PROFILES"in t&&t.USE_PROFILES,Lt=!1!==t.ALLOW_ARIA_ATTR,Mt=!1!==t.ALLOW_DATA_ATTR,Tt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,$t=t.SAFE_FOR_TEMPLATES||!1,Dt=t.WHOLE_DOCUMENT||!1,It=t.RETURN_DOM||!1,Ot=t.RETURN_DOM_FRAGMENT||!1,Ft=t.RETURN_TRUSTED_TYPE||!1,Pt=t.FORCE_BODY||!1,Bt=!1!==t.SANITIZE_DOM,Nt=!1!==t.KEEP_CONTENT,Ht=t.IN_PLACE||!1,B=t.ALLOWED_URI_REGEXP||B,Wt=t.NAMESPACE||_t,t.CUSTOM_ELEMENT_HANDLING&&oe(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(St.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&oe(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(St.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(St.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Qt=Qt=-1===te.indexOf(t.PARSER_MEDIA_TYPE)?ee:t.PARSER_MEDIA_TYPE,ie="application/xhtml+xml"===Qt?function(t){return t}:U,$t&&(Mt=!1),Ot&&(It=!0),jt&&(Y=_({},[].concat(wt(ot))),zt=[],!0===jt.html&&(_(Y,Q),_(zt,ht)),!0===jt.svg&&(_(Y,tt),_(zt,rt),_(zt,lt)),!0===jt.svgFilters&&(_(Y,et),_(zt,rt),_(zt,lt)),!0===jt.mathMl&&(_(Y,st),_(zt,at),_(zt,lt))),t.ADD_TAGS&&(Y===kt&&(Y=W(Y)),_(Y,t.ADD_TAGS)),t.ADD_ATTR&&(zt===Ct&&(zt=W(zt)),_(zt,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&_(Xt,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(Ut===qt&&(Ut=W(Ut)),_(Ut,t.FORBID_CONTENTS)),Nt&&(Y["#text"]=!0),Dt&&_(Y,["html","head","body"]),Y.table&&(_(Y,["tbody"]),delete Et.tbody),D&&D(t),se=t)},re=_({},["mi","mo","mn","ms","mtext"]),ae=_({},["foreignobject","desc","title","annotation-xml"]),le=_({},tt);_(le,et),_(le,it);var de=_({},st);_(de,nt);var ue=function(t){var e=w(t);e&&e.tagName||(e={namespaceURI:_t,tagName:"template"});var i=U(t.tagName),s=U(e.tagName);if(t.namespaceURI===Yt)return e.namespaceURI===_t?"svg"===i:e.namespaceURI===Gt?"svg"===i&&("annotation-xml"===s||re[s]):Boolean(le[i]);if(t.namespaceURI===Gt)return e.namespaceURI===_t?"math"===i:e.namespaceURI===Yt?"math"===i&&ae[s]:Boolean(de[i]);if(t.namespaceURI===_t){if(e.namespaceURI===Yt&&!ae[s])return!1;if(e.namespaceURI===Gt&&!re[s])return!1;var n=_({},["title","style","font","a","script"]);return!de[i]&&(n[i]||!le[i])}return!1},ce=function(t){j(i.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=k}catch(e){t.remove()}}},pe=function(t,e){try{j(i.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){j(i.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!zt[t])if(It||Ot)try{ce(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},me=function(t){var e=void 0,i=void 0;if(Pt)t="<remove></remove>"+t;else{var s=q(t,/^[\r\n\t ]+/);i=s&&s[0]}"application/xhtml+xml"===Qt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=y?y.createHTML(t):t;if(Wt===_t)try{e=(new p).parseFromString(o,Qt)}catch(t){}if(!e||!e.documentElement){e=C.createDocument(Wt,"template",null);try{e.documentElement.innerHTML=Jt?"":o}catch(t){}}var h=e.body||e.documentElement;return t&&i&&h.insertBefore(n.createTextNode(i),h.childNodes[0]||null),Wt===_t?A.call(e,Dt?"html":"body")[0]:Dt?e.documentElement:h},ge=function(t){return S.call(t.ownerDocument||t,t,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},be=function(t){return t instanceof c&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof u)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)},fe=function(t){return"object"===(void 0===r?"undefined":xt(r))?t instanceof r:t&&"object"===(void 0===t?"undefined":xt(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},xe=function(t,e,s){T[t]&&N(T[t],(function(t){t.call(i,e,s,se)}))},we=function(t){var e=void 0;if(xe("beforeSanitizeElements",t,null),be(t))return ce(t),!0;if(q(t.nodeName,/[\u0080-\uFFFF]/))return ce(t),!0;var s=ie(t.nodeName);if(xe("uponSanitizeElement",t,{tagName:s,allowedTags:Y}),!fe(t.firstElementChild)&&(!fe(t.content)||!fe(t.content.firstElementChild))&&Z(/<[/\w]/g,t.innerHTML)&&Z(/<[/\w]/g,t.textContent))return ce(t),!0;if("select"===s&&Z(/<template/i,t.innerHTML))return ce(t),!0;if(!Y[s]||Et[s]){if(!Et[s]&&ye(s)){if(St.tagNameCheck instanceof RegExp&&Z(St.tagNameCheck,s))return!1;if(St.tagNameCheck instanceof Function&&St.tagNameCheck(s))return!1}if(Nt&&!Ut[s]){var n=w(t)||t.parentNode,o=x(t)||t.childNodes;if(o&&n)for(var h=o.length-1;h>=0;--h)n.insertBefore(b(o[h],!0),f(t))}return ce(t),!0}return t instanceof a&&!ue(t)?(ce(t),!0):"noscript"!==s&&"noembed"!==s||!Z(/<\/no(script|embed)/i,t.innerHTML)?($t&&3===t.nodeType&&(e=t.textContent,e=K(e,$," "),e=K(e,R," "),t.textContent!==e&&(j(i.removed,{element:t.cloneNode()}),t.textContent=e)),xe("afterSanitizeElements",t,null),!1):(ce(t),!0)},ve=function(t,e,i){if(Bt&&("id"===e||"name"===e)&&(i in n||i in ne))return!1;if(Mt&&!At[e]&&Z(P,e));else if(Lt&&Z(I,e));else if(!zt[e]||At[e]){if(!(ye(t)&&(St.tagNameCheck instanceof RegExp&&Z(St.tagNameCheck,t)||St.tagNameCheck instanceof Function&&St.tagNameCheck(t))&&(St.attributeNameCheck instanceof RegExp&&Z(St.attributeNameCheck,e)||St.attributeNameCheck instanceof Function&&St.attributeNameCheck(e))||"is"===e&&St.allowCustomizedBuiltInElements&&(St.tagNameCheck instanceof RegExp&&Z(St.tagNameCheck,i)||St.tagNameCheck instanceof Function&&St.tagNameCheck(i))))return!1}else if(Xt[e]);else if(Z(B,K(i,F,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==V(i,"data:")||!Kt[t]){if(Tt&&!Z(O,K(i,F,"")));else if(i)return!1}else;return!0},ye=function(t){return t.indexOf("-")>0},ke=function(t){var e=void 0,s=void 0,n=void 0,o=void 0;xe("beforeSanitizeAttributes",t,null);var h=t.attributes;if(h){var r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:zt};for(o=h.length;o--;){var a=e=h[o],l=a.name,d=a.namespaceURI;if(s=X(e.value),n=ie(l),r.attrName=n,r.attrValue=s,r.keepAttr=!0,r.forceKeepAttr=void 0,xe("uponSanitizeAttribute",t,r),s=r.attrValue,!r.forceKeepAttr&&(pe(l,t),r.keepAttr))if(Z(/\/>/i,s))pe(l,t);else{$t&&(s=K(s,$," "),s=K(s,R," "));var u=ie(t.nodeName);if(ve(u,n,s))try{d?t.setAttributeNS(d,l,s):t.setAttribute(l,s),H(i.removed)}catch(t){}}}xe("afterSanitizeAttributes",t,null)}},ze=function t(e){var i=void 0,s=ge(e);for(xe("beforeSanitizeShadowDOM",e,null);i=s.nextNode();)xe("uponSanitizeShadowNode",i,null),we(i)||(i.content instanceof o&&t(i.content),ke(i));xe("afterSanitizeShadowDOM",e,null)};return i.sanitize=function(t,n){var h=void 0,a=void 0,l=void 0,d=void 0,u=void 0;if((Jt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!fe(t)){if("function"!=typeof t.toString)throw G("toString is not a function");if("string"!=typeof(t=t.toString()))throw G("dirty is not a string, aborting")}if(!i.isSupported){if("object"===xt(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(fe(t))return e.toStaticHTML(t.outerHTML)}return t}if(Rt||he(n),i.removed=[],"string"==typeof t&&(Ht=!1),Ht){if(t.nodeName){var c=ie(t.nodeName);if(!Y[c]||Et[c])throw G("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof r)1===(a=(h=me("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?h=a:h.appendChild(a);else{if(!It&&!$t&&!Dt&&-1===t.indexOf("<"))return y&&Ft?y.createHTML(t):t;if(!(h=me(t)))return It?null:Ft?k:""}h&&Pt&&ce(h.firstChild);for(var p=ge(Ht?t:h);l=p.nextNode();)3===l.nodeType&&l===d||we(l)||(l.content instanceof o&&ze(l.content),ke(l),d=l);if(d=null,Ht)return t;if(It){if(Ot)for(u=E.call(h.ownerDocument);h.firstChild;)u.appendChild(h.firstChild);else u=h;return zt.shadowroot&&(u=L.call(s,u,!0)),u}var m=Dt?h.outerHTML:h.innerHTML;return Dt&&Y["!doctype"]&&h.ownerDocument&&h.ownerDocument.doctype&&h.ownerDocument.doctype.name&&Z(ft,h.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+h.ownerDocument.doctype.name+">\n"+m),$t&&(m=K(m,$," "),m=K(m,R," ")),y&&Ft?y.createHTML(m):m},i.setConfig=function(t){he(t),Rt=!0},i.clearConfig=function(){se=null,Rt=!1},i.isValidAttribute=function(t,e,i){se||he({});var s=ie(t),n=ie(e);return ve(s,n,i)},i.addHook=function(t,e){"function"==typeof e&&(T[t]=T[t]||[],j(T[t],e))},i.removeHook=function(t){T[t]&&H(T[t])},i.removeHooks=function(t){T[t]&&(T[t]=[])},i.removeAllHooks=function(){T={}},i}();let zt=(t,e,i=!1)=>{if(t.length!==e.length)return!1;if(i)for(let i in t){if(t[i]!==e[i])return!1}else{for(let i=0;i<t.length;i+=1)if(!e.includes(t[i]))return!1;for(let i=0;i<e.length;i+=1)if(!t.includes(e[i]))return!1}return!0},Ct=document.createElement("template"),St=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=i.join("");Ct.innerHTML=s;let n=document.importNode(Ct.content,!0);return 1===n.children.length?n.firstElementChild:n},Et=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=i.join(""),n=new CSSStyleSheet;return n.replaceSync(s),n},At=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=`<svg id="x-stub" xmlns="http://www.w3.org/2000/svg">${i.join("")}</svg>`;Ct.innerHTML=s;let n=document.importNode(Ct.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(let t of[...o.childNodes])n.appendChild(t);return o.remove(),n},Lt={},Mt=t=>new Promise((async e=>{if(Lt[t])Lt[t].iconset?e(Lt[t].iconset):Lt[t].callbacks.push(e);else{Lt[t]={callbacks:[e],iconset:null};let i=null;try{i=await(await fetch(t)).text()}catch(t){i=null}if(i){Lt[t].iconset=At`${i}`;for(let e of Lt[t].callbacks)e(Lt[t].iconset)}else console.error(`Xel failed to fetch the iconset: ${t}`)}}));class Tt{constructor(t){this.value=t}valueOf(){return this.value}}class $t extends Tt{constructor(t="???"){super(t)}toString(t){return`{${this.value}}`}}class Dt extends Tt{constructor(t,e={}){super(t),this.opts=e}toString(t){try{return t.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(e){return t.reportError(e),this.value.toString(10)}}}class Rt extends Tt{constructor(t,e={}){super(t),this.opts=e}toString(t){try{return t.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(e){return t.reportError(e),new Date(this.value).toISOString()}}}function Pt(t,e,i){if(i===e)return!0;if(i instanceof Dt&&e instanceof Dt&&i.value===e.value)return!0;if(e instanceof Dt&&"string"==typeof i){if(i===t.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value))return!0}return!1}function It(t,e,i){return e[i]?Nt(t,e[i].value):(t.reportError(new RangeError("No default")),new $t)}function Ot(t,e){const i=[],s=Object.create(null);for(const n of e)"narg"===n.type?s[n.name]=Ft(t,n.value):i.push(Ft(t,n));return{positional:i,named:s}}function Ft(t,e){switch(e.type){case"str":return e.value;case"num":return new Dt(e.value,{minimumFractionDigits:e.precision});case"var":return function(t,{name:e}){let i;if(t.params){if(!Object.prototype.hasOwnProperty.call(t.params,e))return new $t(`$${e}`);i=t.params[e]}else{if(!t.args||!Object.prototype.hasOwnProperty.call(t.args,e))return t.reportError(new ReferenceError(`Unknown variable: $${e}`)),new $t(`$${e}`);i=t.args[e]}if(i instanceof Tt)return i;switch(typeof i){case"string":return i;case"number":return new Dt(i);case"object":if(i instanceof Date)return new Rt(i.getTime());default:return t.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof i}`)),new $t(`$${e}`)}}(t,e);case"mesg":return function(t,{name:e,attr:i}){const s=t.bundle.t.get(e);if(!s)return t.reportError(new ReferenceError(`Unknown message: ${e}`)),new $t(e);if(i){const n=s.attributes[i];return n?Nt(t,n):(t.reportError(new ReferenceError(`Unknown attribute: ${i}`)),new $t(`${e}.${i}`))}if(s.value)return Nt(t,s.value);return t.reportError(new ReferenceError(`No value: ${e}`)),new $t(e)}(t,e);case"term":return function(t,{name:e,attr:i,args:s}){const n=`-${e}`,o=t.bundle.i.get(n);if(!o)return t.reportError(new ReferenceError(`Unknown term: ${n}`)),new $t(n);if(i){const e=o.attributes[i];if(e){t.params=Ot(t,s).named;const i=Nt(t,e);return t.params=null,i}return t.reportError(new ReferenceError(`Unknown attribute: ${i}`)),new $t(`${n}.${i}`)}t.params=Ot(t,s).named;const h=Nt(t,o.value);return t.params=null,h}(t,e);case"func":return function(t,{name:e,args:i}){let s=t.bundle.o[e];if(!s)return t.reportError(new ReferenceError(`Unknown function: ${e}()`)),new $t(`${e}()`);if("function"!=typeof s)return t.reportError(new TypeError(`Function ${e}() is not callable`)),new $t(`${e}()`);try{let e=Ot(t,i);return s(e.positional,e.named)}catch(i){return t.reportError(i),new $t(`${e}()`)}}(t,e);case"select":return function(t,{selector:e,variants:i,star:s}){let n=Ft(t,e);if(n instanceof $t)return It(t,i,s);for(const e of i){if(Pt(t,n,Ft(t,e.key)))return Nt(t,e.value)}return It(t,i,s)}(t,e);default:return new $t}}function Bt(t,e){if(t.dirty.has(e))return t.reportError(new RangeError("Cyclic reference")),new $t;t.dirty.add(e);const i=[],s=t.bundle.h&&e.length>1;for(const n of e)if("string"!=typeof n){if(t.placeables++,t.placeables>100)throw t.dirty.delete(e),new RangeError(`Too many placeables expanded: ${t.placeables}, max allowed is 100`);s&&i.push("⁨"),i.push(Ft(t,n).toString(t)),s&&i.push("⁩")}else i.push(t.bundle.l(n));return t.dirty.delete(e),i.join("")}function Nt(t,e){return"string"==typeof e?t.bundle.l(e):Bt(t,e)}class Ht{constructor(t,e,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=t,this.errors=e,this.args=i}reportError(t){if(!(this.errors&&t instanceof Error))throw t;this.errors.push(t)}memoizeIntlObject(t,e){let i=this.bundle.u.get(t);i||(i={},this.bundle.u.set(t,i));let s=JSON.stringify(e);return i[s]||(i[s]=new t(this.bundle.locales,e)),i[s]}}function jt(t,e){const i=Object.create(null);for(const[s,n]of Object.entries(t))e.includes(s)&&(i[s]=n.valueOf());return i}const Ut=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function qt(t,e){let i=t[0];if(i instanceof $t)return new $t(`NUMBER(${i.valueOf()})`);if(i instanceof Dt)return new Dt(i.valueOf(),{...i.opts,...jt(e,Ut)});if(i instanceof Rt)return new Dt(i.valueOf(),{...jt(e,Ut)});throw new TypeError("Invalid argument to NUMBER")}const Kt=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Vt(t,e){let i=t[0];if(i instanceof $t)return new $t(`DATETIME(${i.valueOf()})`);if(i instanceof Rt)return new Rt(i.valueOf(),{...i.opts,...jt(e,Kt)});if(i instanceof Dt)return new Rt(i.valueOf(),{...jt(e,Kt)});throw new TypeError("Invalid argument to DATETIME")}const Xt=new Map;class Zt{constructor(t,{functions:e,useIsolating:i=!0,transform:s=(t=>t)}={}){this.i=new Map,this.t=new Map,this.locales=Array.isArray(t)?t:[t],this.o={NUMBER:qt,DATETIME:Vt,...e},this.h=i,this.l=s,this.u=function(t){const e=Array.isArray(t)?t.join(" "):t;let i=Xt.get(e);return void 0===i&&(i=new Map,Xt.set(e,i)),i}(t)}hasMessage(t){return this.t.has(t)}getMessage(t){return this.t.get(t)}addResource(t,{allowOverrides:e=!1}={}){const i=[];for(let s=0;s<t.body.length;s++){let n=t.body[s];if(n.id.startsWith("-")){if(!1===e&&this.i.has(n.id)){i.push(new Error(`Attempt to override an existing term: "${n.id}"`));continue}this.i.set(n.id,n)}else{if(!1===e&&this.t.has(n.id)){i.push(new Error(`Attempt to override an existing message: "${n.id}"`));continue}this.t.set(n.id,n)}}return i}formatPattern(t,e=null,i=null){if("string"==typeof t)return this.l(t);let s=new Ht(this,i,e);try{return Bt(s,t).toString(s)}catch(t){if(s.errors&&t instanceof Error)return s.errors.push(t),(new $t).toString(s);throw t}}}const Gt=/^(-?[a-zA-Z][\w-]*) *= */gm,Yt=/\.([a-zA-Z][\w-]*) *= */y,_t=/\*?\[/y,Wt=/(-?[0-9]+(?:\.([0-9]+))?)/y,Jt=/([a-zA-Z][\w-]*)/y,Qt=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,te=/^[A-Z][A-Z0-9_-]*$/,ee=/([^{}\n\r]+)/y,ie=/([^\\"\n\r]*)/y,se=/\\([\\"])/y,ne=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,oe=/^\n+/,he=/ +$/,re=/ *\r?\n/g,ae=/( *)$/,le=/{\s*/y,de=/\s*}/y,ue=/\[\s*/y,ce=/\s*] */y,pe=/\s*\(\s*/y,me=/\s*->\s*/y,ge=/\s*:\s*/y,be=/\s*,?\s*/y,fe=/\s+/y;class xe{constructor(t){this.body=[],Gt.lastIndex=0;let e=0;for(;;){let i=Gt.exec(t);if(null===i)break;e=Gt.lastIndex;try{this.body.push(r(i[1]))}catch(t){if(t instanceof SyntaxError)continue;throw t}}function i(i){return i.lastIndex=e,i.test(t)}function s(i,s){if(t[e]===i)return e++,!0;if(s)throw new s(`Expected ${i}`);return!1}function n(t,s){if(i(t))return e=t.lastIndex,!0;if(s)throw new s(`Expected ${t.toString()}`);return!1}function o(i){i.lastIndex=e;let s=i.exec(t);if(null===s)throw new SyntaxError(`Expected ${i.toString()}`);return e=i.lastIndex,s}function h(t){return o(t)[1]}function r(t){let e=a(),s=function(){let t=Object.create(null);for(;i(Yt);){let e=h(Yt),i=a();if(null===i)throw new SyntaxError("Expected attribute value");t[e]=i}return t}();if(null===e&&0===Object.keys(s).length)throw new SyntaxError("Expected message value or attributes");return{id:t,value:e,attributes:s}}function a(){let s;if(i(ee)&&(s=h(ee)),"{"===t[e]||"}"===t[e])return l(s?[s]:[],Infinity);let n=f();return n?s?l([s,n],n.length):(n.value=x(n.value,oe),l([n],n.length)):s?x(s,he):null}function l(s=[],n){for(;;){if(i(ee)){s.push(h(ee));continue}if("{"===t[e]){s.push(d());continue}if("}"===t[e])throw new SyntaxError("Unbalanced closing brace");let o=f();if(!o)break;s.push(o),n=Math.min(n,o.length)}let o=s.length-1,r=s[o];"string"==typeof r&&(s[o]=x(r,he));let a=[];for(let t of s)t instanceof we&&(t=t.value.slice(0,t.value.length-n)),t&&a.push(t);return a}function d(){n(le,SyntaxError);let t=u();if(n(de))return t;if(n(me)){let e=function(){let t,e=[],n=0;for(;i(_t);){s("*")&&(t=n);let i=p(),o=a();if(null===o)throw new SyntaxError("Expected variant value");e[n++]={key:i,value:o}}if(0===n)return null;if(void 0===t)throw new SyntaxError("Expected default variant");return{variants:e,star:t}}();return n(de,SyntaxError),{type:"select",selector:t,...e}}throw new SyntaxError("Unclosed placeable")}function u(){if("{"===t[e])return d();if(i(Qt)){let[,i,s,h=null]=o(Qt);if("$"===i)return{type:"var",name:s};if(n(pe)){let o=function(){let i=[];for(;;){switch(t[e]){case")":return e++,i;case void 0:throw new SyntaxError("Unclosed argument list")}i.push(c()),n(be)}}();if("-"===i)return{type:"term",name:s,attr:h,args:o};if(te.test(s))return{type:"func",name:s,args:o};throw new SyntaxError("Function names must be all upper-case")}return"-"===i?{type:"term",name:s,attr:h,args:[]}:{type:"mesg",name:s,attr:h}}return m()}function c(){let t=u();return"mesg"!==t.type?t:n(ge)?{type:"narg",name:t.name,value:m()}:t}function p(){let t;return n(ue,SyntaxError),t=i(Wt)?g():{type:"str",value:h(Jt)},n(ce,SyntaxError),t}function m(){if(i(Wt))return g();if('"'===t[e])return function(){s('"',SyntaxError);let i="";for(;;){if(i+=h(ie),"\\"!==t[e]){if(s('"'))return{type:"str",value:i};throw new SyntaxError("Unclosed string literal")}i+=b()}}();throw new SyntaxError("Invalid expression")}function g(){let[,t,e=""]=o(Wt),i=e.length;return{type:"num",value:parseFloat(t),precision:i}}function b(){if(i(se))return h(se);if(i(ne)){let[,t,e]=o(ne),i=parseInt(t||e,16);return i<=55295||57344<=i?String.fromCodePoint(i):"�"}throw new SyntaxError("Unknown escape sequence")}function f(){let i=e;switch(n(fe),t[e]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return w(t.slice(i,e))}return" "===t[e-1]&&w(t.slice(i,e))}function x(t,e){return t.replace(e,"")}function w(t){let e=t.replace(re,"\n"),i=ae.exec(t)[1].length;return new we(e,i)}}}class we{constructor(t,e){this.value=t,this.length=e}}let ve=t=>new Promise(((e,i)=>{setTimeout((()=>e()),t)})),ye=()=>Date.now(),ke=(t,e=500,i)=>{let s=null,n=null,o=null,h=0,r=()=>{h=new Date,n=null,o=t.apply(i,s)};return(...a)=>{let l=new Date,d=e-(l-h);return s=a,d<=0?(clearTimeout(n),n=null,h=l,o=t.apply(i,s)):n||(n=setTimeout(r,d)),o}},ze=(t,e,i,s=!1)=>{let n=null,o=null;return(...h)=>{let r=s&&!n;return clearTimeout(n),n=setTimeout((()=>{n=null,s||(o=t.apply(i,h))}),e),r&&(o=t.apply(i,h)),o}};var Ce=new class extends class{#s={};addEventListener(t,e){this.#s||(this.#s={});let i=this.#s[t];i||(this.#s[t]=i=[]),i.push(e),i.length>1e4&&console.warn(`Potential EventEmitter memory leak: ${i.length} listeners subscribed to event "${t}"`)}removeEventListener(t,e){if(this.#s&&this.#s[t]){for(var i=[],s=0;s<this.#s[t].length;s+=1)this.#s[t][s]!==e&&i.push(this.#s[t][s]);this.#s[t]=i}}dispatchEvent(t){if(!this.#s)return;let e=this.#s[t.type];if(!e)return;let i=null;for(let s=e.length-1;s>=0;s-=1){let n,o=e[s];try{n=o.call(window,t)}catch(t){null===i&&(i=t)}if(!1===n)break}if(i)throw i}}{get theme(){return this.#n}set theme(t){let e=document.head.querySelector(':scope > meta[name="xel-theme"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-theme"),document.head.append(e)),e.setAttribute("content",t)}get accentColor(){return this.#o}set accentColor(t){let e=document.head.querySelector(':scope > meta[name="xel-accent-color"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-accent-color"),document.head.append(e)),e.setAttribute("content",t)}get size(){return this.#h}set size(t){let e=document.head.querySelector(':scope > meta[name="xel-size"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-size"),document.head.append(e)),e.setAttribute("content",t)}get iconsets(){return[...this.#r]}set iconsets(t){let e=document.head.querySelector(':scope > meta[name="xel-iconsets"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-iconsets"),document.head.append(e)),e.setAttribute("content",t.join(", "))}get locales(){return[...this.#a]}set locales(t){let e=document.head.querySelector(':scope > meta[name="xel-locales"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-locales"),document.head.append(e)),e.setAttribute("content",t.join(", "))}get localesIds(){return this.#l}get whenThemeReady(){return new Promise((t=>{null===this.#d?t():this.#d.push(t)}))}get whenIconsetsReady(){return new Promise((t=>{null===this.#u?t():this.#u.push(t)}))}get whenLocalesReady(){return new Promise((t=>{null===this.#c?t():this.#c.push(t)}))}get themeStyleSheet(){return this.#p}get presetAccentColors(){let t={};for(let e of this.#p.cssRules)if(1===e.type&&"body"===e.selectorText&&e.styleMap.has("--preset-accent-colors")){let i=e.styleMap.get("--preset-accent-colors");if(i&&i[0]){let e=i[0].split(",").map((t=>t.trim())).map((t=>t.split(" ")));t=Object.fromEntries(e)}break}return t}get autocapitalize(){return this.#m}queryIcon(t){t=!1===t.startsWith("#")?"#"+t:t;let e=null;for(let i of this.#g){let s=i.querySelector(t);if(s){e=s;break}}return e}queryMessage(t,e={}){t=t.startsWith("#")?t.substring(1):t;let[i,s]=t.split("."),n=this.#b.getMessage(i),o=null,h="text";return void 0===s&&(s=null),n&&(null===s?n.value&&(o=this.#b.formatPattern(n.value,e)):n.attributes?.[s]&&(o=this.#b.formatPattern(n.attributes[s],e))),null===o?o=null===s?i:`${i}.${s}`:/<|&#?\w+;/.test(o)&&(h="html",o=kt.sanitize(o,{USE_PROFILES:{html:!0}})),{id:i,attribute:s,format:h,content:o}}#n=null;#o=null;#h=null;#r=[];#a=[];#l=[];#m="none";#p=new CSSStyleSheet;#g=[];#b=null;#d=[];#u=[];#c=[];constructor(){super(),document.adoptedStyleSheets=[this.#p];let{theme:t,accentColor:e,size:i,iconsets:s,locales:n}=this.#f();this.#n=t,this.#o=e,this.#h=i,this.#r=s,this.#a=n,this.#l=this.#a.map((t=>{let e=t.substring(t.lastIndexOf("/")+1);return e.substring(0,e.indexOf("."))})),null!==this.#n&&this.#x(this.#n),this.#r.length>0&&this.#w(this.#r),this.#a.length>0&&this.#v(this.#a);new MutationObserver((t=>this.#y(t))).observe(document.head,{attributes:!0,subtree:!0})}#y(t){let e=this.#n,i=this.#o,s=this.#h,n=this.#r,o=this.#a,{theme:h,accentColor:r,size:a,iconsets:l,locales:d}=this.#f();this.#n=h,this.#o=r,this.#h=a,this.#r=l,this.#a=d,this.#l=this.#a.map((t=>{let e=t.substring(t.lastIndexOf("/")+1);return e.substring(0,e.indexOf("."))})),this.#n!==e&&this.#x(this.#n).then((()=>{this.dispatchEvent(new CustomEvent("themechange"))})),this.#o!==i&&(this.#k(),this.dispatchEvent(new CustomEvent("accentcolorchange"))),this.#h!==s&&this.dispatchEvent(new CustomEvent("sizechange")),!1===zt(this.#r,n,!0)&&this.#w(this.#r).then((()=>{this.dispatchEvent(new CustomEvent("iconsetschange"))})),!1===zt(this.#a,o,!0)&&this.#v(this.#a).then((()=>{this.dispatchEvent(new CustomEvent("localeschange"))}))}#z(t){return new Promise((async e=>{let i=await fetch(t),s=await i.text();for(let[t,e]of this.#C(s)){let i=await this.#z(t);s=s.replace(e,i)}e(s)}))}#x(t){return new Promise((async e=>{null===this.#d&&(this.#d=[]);let i=await this.#z(t);if(await this.#p.replace(i),this.#S(),this.#k(),this.#E(),null!==this.#d){for(let t of this.#d)t();this.#d=null}e()}))}#w(t){return new Promise((async e=>{null===this.#u&&(this.#u=[]),this.#g=[];for(let e of t){let t=await Mt(e);this.#g.push(t)}for(let t of this.#u)t();this.#u=null,e()}))}#v(t){return new Promise((async e=>{null===this.#c&&(this.#c=[]);let i=this,s=[];if(t.length>0){let e=t[0].substring(t[0].lastIndexOf("/")+1);s.push(e.substring(0,e.indexOf(".")))}else s.push("en");let n=new Zt(s,{useIsolating:!1,functions:{RELDATETIME:(t=[],e={})=>{let s;if(t[0]instanceof Dt)s=new Date(t[0].value);else{if("string"!=typeof t[0])throw new TypeError("Invalid argument to RELDATETIME");s=new Date(parseInt(t[0]))}return((t,e=new Date,i=["en"])=>{let s,n=3600,o=86400,h=604800,r=t.getTime(),a=e.getTime(),l=new Intl.RelativeTimeFormat(i,{numeric:"always"}),d=Math.round((a-r)/1e3);if(d<0?(s=1,d=-d):(s=-1,d=d),d<60)return l.format(d*s,"seconds");if(d<n)return l.format(Math.round(d*s/60),"minutes");if(d<o)return l.format(Math.round(d*s/n),"hours");if(d<h)return l.format(Math.round(d*s/o),"days");if(d<4233600)return l.format(Math.round(d*s/h),"weeks");{let i=12*(t.getFullYear()-e.getFullYear());return i-=e.getMonth(),i+=t.getMonth(),Math.abs(i)>12?i<0?l.format(Math.ceil(i/12),"years"):l.format(Math.floor(i/12),"years"):l.format(i,"months")}})(s,new Date,i.localesIds)}}});for(let e=t.length-1;e>=0;e-=1){let i=t[e],s=await(await fetch(i)).text(),o=new xe(s),h=n.addResource(o,{allowOverrides:!0});h.length&&console.info("Found localization syntax errors",h)}this.#b=n,this.#S();for(let t of this.#c)t();this.#c=null,e()}))}#S(){this.#b?.locales[0]?.startsWith("en")?this.#m=getComputedStyle(document.body).getPropertyValue("--autocapitalize").trim()||"none":this.#m="none"}async#E(){await this.whenThemeReady;let t=document.head.querySelector('meta[name="theme-color"]'),e=getComputedStyle(document.body).getPropertyValue("--titlebar-color").trim()||"auto";"auto"===e?t&&t.remove():(null===t&&(t=document.createElement("meta"),t.setAttribute("name","theme-color"),document.head.append(t)),t.setAttribute("content",e))}async#k(){await this.whenThemeReady;let t=this.#o||this.presetAccentColors.blue;this.presetAccentColors[t]&&(t=this.presetAccentColors[t]);let[e,i,s,n]=(new E).parse(t,"hsla"),o=[...this.#p.cssRules].reverse().find((t=>1===t.type&&"body"===t.selectorText));o.styleMap.set("--accent-color-h",e),o.styleMap.set("--accent-color-s",`${i}%`),o.styleMap.set("--accent-color-l",`${s}%`),o.styleMap.set("--accent-color-a",n)}#f(){let t=document.head.querySelector(':scope > meta[name="xel-theme"]'),e=document.head.querySelector(':scope > meta[name="xel-accent-color"]'),i=document.head.querySelector(':scope > meta[name="xel-size"]'),s=document.head.querySelector(':scope > meta[name="xel-iconsets"]'),n=document.head.querySelector(':scope > meta[name="xel-locales"]');return{theme:t&&""!==t.content?t.content:null,accentColor:e&&""!==e.content?e.content:null,size:i&&""!==i.content?i.content:null,iconsets:s?s.content.split(",").map((t=>t.trim())).filter((t=>""!==t)):[],locales:n?n.content.split(",").map((t=>t.trim())).filter((t=>""!==t)):[]}}#C(t){let e=[],i=-1;for(;;){let s=t.indexOf("@import",i);if(!(s>-1))break;{let n=t.indexOf(";",s),o=0,h=t.indexOf(".css",s)+".css".length,r=t.indexOf("'",s),a=t.indexOf('"',s);if(r>s&&r<n)o=r+1;else if(a>s&&a<n)o=a+1;else{let e=t.indexOf("url(",s);e>s&&e<n&&(o=e+"url(".length)}let l=t.substring(o,h);e.push([l,t.substring(s,n+1)]),i=h}}return e}};if(!1===MouseEvent.prototype.hasOwnProperty("pointerType")&&Object.defineProperty(MouseEvent.prototype,"pointerType",{get(){return this.sourceCapabilities.firesTouchEvents?"touch":"mouse"}}),Element.prototype.setPointerCapture){let t=Element.prototype.setPointerCapture;Element.prototype.setPointerCapture=function(e){t.call(this,e);let i=getComputedStyle(this).cursor,s=[];for(let t=this.parentNode||this.host;t&&t!==document;t=t.parentNode||t.host)if(t.nodeType===document.DOCUMENT_FRAGMENT_NODE){let e=document.createElementNS(t.host.namespaceURI,"style");e.textContent=`* { cursor: ${i} !important; user-select: none !important; }`,t.append(e),s.push(e)}else if(t.nodeType===document.DOCUMENT_NODE){let e=document.createElement("style");e.textContent=`* { cursor: ${i} !important; user-select: none !important; }`,t.head.append(e),s.push(e)}let n=()=>{window.removeEventListener("pointerup",n,!0),this.removeEventListener("lostpointercapture",n);for(let t of s)t.remove()};window.addEventListener("pointerup",n,!0),this.addEventListener("lostpointercapture",n)}}Object.defineProperty(Animation.prototype,"finished",{get(){return new Promise((t=>{"finished"===this.playState?t():this.addEventListener("finish",(()=>t()),{once:!0})}))}}),Object.defineProperty(HTMLHeadingElement.prototype,"disabled",{enumerable:!1,configurable:!1,get(){return this.hasAttribute("disabled")},set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}),Object.defineProperty(HTMLParagraphElement.prototype,"disabled",{enumerable:!1,configurable:!1,get(){return this.hasAttribute("disabled")},set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}),Node.prototype.append||(Node.prototype.append=function(t){this.appendChild(t)}),Node.prototype.prepend||(Node.prototype.prepend=function(t){this.insertBefore(t,this.firstElementChild)}),Node.prototype.before||(Node.prototype.before=function(t){this.parentElement.insertBefore(t,this)}),Node.prototype.after||(Node.prototype.after=function(t){this.parentElement.insertBefore(t,this.nextElementSibling)}),Node.prototype.closest||(Node.prototype.closest=function(t){return this.parentNode?this.parentNode.closest(t):null}),Node.prototype.replaceWith||(Node.prototype.replaceWith=function(t){this.parentNode.replaceChild(t,this)});let Se=HTMLDialogElement.prototype.showModal,Ee=HTMLDialogElement.prototype.close,Ae=[],Le={get open(){return this.hasAttribute("open")},showModal(){return new Promise((async t=>{if(!0!==this.open&&!1!==this.isConnected){this.p&&await this.p.finished,this.m&&await this.m.finished,Se.apply(this,arguments);{let t;document.body.style.overflow="hidden",Ae.push(this),this.addEventListener("close",t=e=>{e.target===this&&(this.removeEventListener("close",t),Ae=Ae.filter((t=>t!==this)),0===Ae.length&&(document.body.style.overflow=null))})}{let t=this.querySelector("[autofocus]");t?t.focus():this.focus()}if(!1===this.hasAttribute("hidden")){let t=getComputedStyle(this),e=t.getPropertyValue("transition-property"),i=1e3*parseFloat(t.getPropertyValue("transition-duration")),s=t.getPropertyValue("transition-timing-function"),n=this.getBoundingClientRect();"transform"===e&&("0px"===getComputedStyle(this).left&&"0px"!==getComputedStyle(this).right?this.p=this.animate({transform:[`translateX(-${n.right}px)`,"translateX(0px)"]},{duration:i,easing:s}):"0px"===getComputedStyle(this).right&&"0px"!==getComputedStyle(this).left?this.p=this.animate({transform:[`translateX(${n.width}px)`,"translateX(0px)"]},{duration:i,easing:s}):"0px"===getComputedStyle(this).marginTop&&"0px"===getComputedStyle(this).marginBottom?this.p=this.animate({transform:[`translateY(-${n.bottom}px)`,"translateY(0px)"]},{duration:i,easing:s}):this.p=this.animate({transform:["scaleY(0)","scaleY(1)"]},{duration:i,easing:s}))}{let t,e,i;this.addEventListener("keydown",t=t=>{"Escape"===t.key&&t.preventDefault()}),document.addEventListener("keydown",e=t=>{"Escape"===t.key&&t.target===document.body&&t.preventDefault()}),this.addEventListener("close",i=s=>{s.target===this&&(this.removeEventListener("close",i),this.removeEventListener("keydown",t),document.removeEventListener("keydown",e))})}{let t,e,i,s=!0,n=t=>{let e=this.getBoundingClientRect();return t.clientX>=e.x&&t.clientX<=e.x+e.width&&t.clientY>=e.y&&t.clientY<=e.y+e.height};this.addEventListener("pointerdown",t=t=>{s=!1===n(t)}),this.addEventListener("click",e=t=>{t.target===this&&!0===t.isTrusted&&!1===t.defaultPrevented&&!0===s&&!1===n(t)&&!0===this.hasAttribute("open")&&(this.close(),this.dispatchEvent(new CustomEvent("userclose")))}),this.addEventListener("close",i=s=>{s.target===this&&(this.removeEventListener("pointerdown",t),this.removeEventListener("click",e),this.removeEventListener("close",i))})}this.p&&(await this.p.finished,this.p=null),t()}else t()}))},close(){return new Promise((async t=>{if(this.p&&await this.p.finished,this.m&&await this.m.finished,!1===this.hasAttribute("hidden")){let t=getComputedStyle(this),e=t.getPropertyValue("transition-property"),i=t.getPropertyValue("transition-duration")||"0s",s=1e3*parseFloat(i),n=t.getPropertyValue("transition-timing-function")||"ease",o=this.getBoundingClientRect();"transform"===e&&("0px"===getComputedStyle(this).left&&"0px"!==getComputedStyle(this).right?this.m=this.animate({transform:["translateX(0px)",`translateX(-${o.right}px)`]},{duration:s,easing:n}):"0px"===getComputedStyle(this).right&&"0px"!==getComputedStyle(this).left?this.m=this.animate({transform:["translateX(0px)",`translateX(${o.width}px)`]},{duration:s,easing:n}):"0px"===getComputedStyle(this).marginTop&&"0px"===getComputedStyle(this).marginBottom?this.m=this.animate({transform:["translateY(0px)",`translateY(-${o.bottom+50}px)`]},{duration:s,easing:n}):this.m=this.animate({transform:["scaleY(1)","scaleY(0)"]},{duration:s,easing:n}))}this.m&&(await this.m.finished,this.m=null),this.hasAttribute("open")&&Ee.apply(this,arguments),t()}))}};for(let[t,e]of Object.entries(Object.getOwnPropertyDescriptors(Le)))Object.defineProperty(HTMLDialogElement.prototype,t,e);class Me extends HTMLElement{static observedAttributes=["expanded","size"];static#A=St`<template><main id="main"><div id="arrow-container"><svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none" tabindex="1"><path></path></svg></div><slot></slot></main></template>`;static#L=Et`:host{display:block;width:100%;margin:8px 0;box-sizing:border-box}:host([animating]){overflow:hidden}#main{position:relative;width:100%;height:100%}#arrow-container{position:absolute;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:flex-start;pointer-events:none}#arrow{display:flex;width:16px;height:16px;d:path("M 26 20 L 26 80 L 74 50 Z");transform:rotate(0);transition:transform .25s cubic-bezier(.4, 0, .2, 1);color:currentColor}#arrow:focus{background:0 0;outline:0}:host([expanded]) #arrow{transform:rotate(90deg)}#arrow path{fill:currentColor;d:inherit}`;get expanded(){return this.hasAttribute("expanded")}set expanded(t){t?this.setAttribute("expanded",""):this.removeAttribute("expanded")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#M={};#T=null;#$=null;#D=null;#R=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Me.#L],this.#T.append(document.importNode(Me.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.#$=new ResizeObserver((()=>this.#P())),this.addEventListener("click",(t=>this.#I(t))),this.#M.arrow.addEventListener("keydown",(t=>this.#O(t)))}connectedCallback(){this.#F(),Ce.addEventListener("sizechange",this.#D=()=>this.#F()),this.#$.observe(this)}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D),this.#$.unobserve(this)}attributeChangedCallback(t,e,i){e!==i&&("expanded"===t?this.#P():"size"===t&&this.#F())}expand(){return new Promise((async t=>{if(!1===this.expanded){let t=this.getBoundingClientRect();this.#R&&this.#R.finish(),this.expanded=!0,this.removeAttribute("animating");let e=this.getBoundingClientRect();this.setAttribute("animating","");let i=this.animate({height:[t.height+"px",e.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.#R=i,await i.finished,this.#R===i&&this.removeAttribute("animating")}t()}))}collapse(){return new Promise((async t=>{if(!0===this.expanded){let t=this.getBoundingClientRect();this.#R&&this.#R.finish(),this.expanded=!1,this.removeAttribute("animating");let e=this.getBoundingClientRect();this.setAttribute("animating","");let i=this.animate({height:[t.height+"px",e.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.#R=i,await i.finished,this.#R===i&&this.removeAttribute("animating")}t()}))}#P(){let t=this.querySelector(":scope > header");this.#M["arrow-container"].style.height=t?t.getBoundingClientRect().height+"px":null}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#O(t){"Enter"===t.key&&this.querySelector("header").click()}#I(t){let e=this.querySelector("header"),i=t.target.closest("[tabindex]");e.contains(t.target)&&!1===this.contains(i)&&(this.expanded?(this.collapse(),this.dispatchEvent(new CustomEvent("collapse"))):(this.expand(),this.dispatchEvent(new CustomEvent("expand"))))}}customElements.define("x-accordion",Me);class Te extends HTMLElement{static#L=Et`:host{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;touch-action:none;will-change:opacity;cursor:default;background:rgba(0,0,0,.5)}:host([hidden]){display:none}`;get ownerElement(){return this.#B?this.#B:document.body.firstElementChild}set ownerElement(t){this.#B=t}#T=null;#B=null;#N=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Te.#L],this.addEventListener("pointerdown",(t=>t.preventDefault()))}connectedCallback(){this.addEventListener("wheel",this.#N=t=>t.preventDefault())}disconnectedCallback(){this.removeEventListener("wheel",this.#N)}show(t=!0){this.title="",this.style.top="0px",this.style.left="0px",this.ownerElement.before(this),this.hidden=!1;let e=this.getBoundingClientRect(),i=0,s=0;0===e.top&&0===e.left||(i=-e.top,s=-e.left);{let t=parseFloat(getComputedStyle(this.ownerElement).zIndex);this.style.zIndex=t-1}if(this.style.top=i+"px",this.style.left=s+"px",t){return this.animate({opacity:["0","1"]},{duration:100,easing:"ease-out"}).finished}}hide(t=!0){if(t){let t=this.animate({opacity:["1","0"]},{duration:100,easing:"ease-in"});return t.finished.then((()=>{this.remove()})),t.finished}this.remove()}}customElements.define("x-backdrop",Te);class $e extends HTMLElement{static observedAttributes=["value","size"];static#A=St`<template><x-box vertical><div id="hue-slider" part="slider"><div id="hue-slider-track"><div id="hue-slider-marker" part="marker"></div></div></div><div id="saturation-slider" part="slider"><div id="saturation-slider-track"><div id="saturation-slider-marker" part="marker"></div></div></div><div id="lightness-slider" part="slider"><div id="lightness-slider-track"><div id="lightness-slider-marker" part="marker"></div></div></div><div id="alpha-slider" part="slider"><div id="alpha-slider-gradient"></div><div id="alpha-slider-track"><div id="alpha-slider-marker" part="marker"></div></div></div></x-box></template>`;static#L=Et`:host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;background:red;--marker-width:18px}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#saturation-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #saturation-slider{height:24px}:host([computedsize=large]) #saturation-slider{height:35px}#saturation-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#saturation-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#lightness-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #lightness-slider{height:24px}:host([computedsize=large]) #lightness-slider{height:35px}#lightness-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#lightness-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{display:none;width:100%;height:30px;margin-top:20px;margin-bottom:8px;padding:0 calc(var(--marker-width)/ 2);position:relative;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#H=0;#j=0;#U=80;#q=1;#T=null;#M={};#D=null;#K=!1;#V=!1;#X=!1;#Z=!1;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[$e.#L],this.#T.append(document.importNode($e.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.#M["hue-slider"].addEventListener("pointerdown",(t=>{this.#G(t)})),this.#M["saturation-slider"].addEventListener("pointerdown",(t=>{this.#Y(t)})),this.#M["lightness-slider"].addEventListener("pointerdown",(t=>{this.#_(t)})),this.#M["alpha-slider"].addEventListener("pointerdown",(t=>{this.#W(t)}))}connectedCallback(){this.#J(),this.#F(),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.#Q():"size"===t&&this.#tt())}#J(){this.#et(),this.#it(),this.#st(),this.#nt(),this.#ot(),this.#ht(),this.#rt()}#et(){this.#M["hue-slider-marker"].style.left=r(this.#H,0,360,0)/360*100+"%"}#it(){this.#M["saturation-slider-marker"].style.left=r(this.#j,0,100,2)+"%"}#nt(){this.#M["lightness-slider-marker"].style.left=r(this.#U,0,100,2)+"%"}#ht(){this.#M["alpha-slider-marker"].style.left=r(100*(1-this.#q),0,100,2)+"%"}#st(){let t=this.#H;this.#M["saturation-slider"].style.background=`linear-gradient(\n      to right, hsl(${t}, 0%, 50%), hsl(${t}, 100%, 50%)\n    )`}#ot(){let t=this.#H,e=this.#j;this.#M["lightness-slider"].style.background=`linear-gradient(\n      to right, hsl(${t}, ${e}%, 0%), hsl(${t}, ${e}%, 50%), hsl(${t}, ${e}%, 100%)\n    )`}#rt(){let t=this.#H,e=this.#j,i=this.#U;this.#M["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, hsla(${t}, ${e}%, ${i}%, 1), hsla(${t}, ${e}%, ${i}%, 0))\n    `}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#Q(){if(!1===this.#K&&!1===this.#V&&!1===this.#X&&!1===this.#Z){let[t,e,i,s]=(new E).parse(this.value,"hsla");this.#H=t,this.#j=e,this.#U=i,this.#q=s,this.#J()}}#tt(){this.#F()}#G(t){if(t.buttons>1)return;let e,i,s=this.#M["hue-slider-track"].getBoundingClientRect();this.#K=!0,this.#M["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width*360;e=r(e,0,360,0),e!==this.#H&&(this.#H=e,this.value=v([this.#H,this.#j,this.#U,this.#q],"hsla","hsla"),this.#et(),this.#st(),this.#ot(),this.#rt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#M["hue-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#M["hue-slider"].addEventListener("pointerup",i=()=>{this.#M["hue-slider"].removeEventListener("pointermove",e),this.#M["hue-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#K=!1})}#Y(t){if(t.buttons>1)return;let e,i,s=this.#M["saturation-slider-track"].getBoundingClientRect();this.#V=!0,this.#M["saturation-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width*100;e=r(e,0,100,0),e!==this.#j&&(this.#j=e,this.value=v([this.#H,this.#j,this.#U,this.#q],"hsla","hsla"),this.#it(),this.#st(),this.#ot(),this.#rt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#M["saturation-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#M["saturation-slider"].addEventListener("pointerup",i=()=>{this.#M["saturation-slider"].removeEventListener("pointermove",e),this.#M["saturation-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#V=!1})}#_(t){if(t.buttons>1)return;let e,i,s=this.#M["lightness-slider-track"].getBoundingClientRect();this.#X=!0,this.#M["lightness-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width*100;e=r(e,0,100,0),e!==this.#U&&(this.#U=e,this.value=v([this.#H,this.#j,this.#U,this.#q],"hsla","hsla"),this.#nt(),this.#st(),this.#ot(),this.#rt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#M["lightness-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#M["lightness-slider"].addEventListener("pointerup",i=()=>{this.#M["lightness-slider"].removeEventListener("pointermove",e),this.#M["lightness-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#X=!1})}#W(t){if(t.buttons>1)return;let e,i,s=this.#M["alpha-slider-track"].getBoundingClientRect();this.#Z=!0,this.#M["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=1-(t-s.x)/s.width;e=r(e,0,1,2),e!==this.#q&&(this.#q=e,this.value=v([this.#H,this.#j,this.#U,this.#q],"hsla","hsla"),this.#ht(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#M["alpha-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#M["alpha-slider"].addEventListener("pointerup",i=()=>{this.#M["alpha-slider"].removeEventListener("pointermove",e),this.#M["alpha-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Z=!1})}}customElements.define("x-barscolorpicker",$e);class De extends HTMLElement{static#A=St`<template><slot></slot></template>`;static#L=Et`:host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([vertical]){flex-flow:column;align-items:flex-start;justify-content:center}:host([hidden]){display:none}`;get vertical(){return this.hasAttribute("vertical")}set vertical(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[De.#L],this.#T.append(document.importNode(De.#A.content,!0))}}customElements.define("x-box",De);let Re=(t,e=null)=>{let i=t.split(":"),s=null;if(1===i.length){let[t]=i;s=null===e?document.createElement(t):document.createElement(t,e)}else if(2===i.length){let[t,e]=i;"svg"===t&&(s=document.createElementNS("http://www.w3.org/2000/svg",e))}return s},Pe=(t,e,i=!0)=>{let s=t.closest(e);return i&&!s&&t.getRootNode().host?Pe(t.getRootNode().host,e):s},Ie=t=>{let e=t=>t&&t!==document.body?(t=>{let e=getComputedStyle(t,null);return/(auto|scroll)/.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x"))})(t)&&"x-texteditor"!==t.localName?t:e(t.parentElement||t.parentNode.host):document.body;return e(t)},{max:Oe}=Math;class Fe extends HTMLElement{static observedAttributes=["disabled","size","skin"];static#A=St`<template><div id="ripples"></div><slot></slot><svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="arrow-path"></path></svg></template>`;static#L=Et`:host{display:flex;align-items:center;justify-content:center;width:fit-content;height:fit-content;min-height:32px;padding:2px 14px;box-sizing:border-box;opacity:1;position:relative;--trigger-effect:none}:host(:focus){outline:0}:host(:focus:not(:active)){z-index:1}:host([mixed]){opacity:.75}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#arrow{color:currentColor;width:8px;height:8px;min-width:8px;margin:0 0 0 4px;d:path("M 11.7 19.9 L 49.8 57.9 L 87.9 19.9 L 99.7 31.6 L 49.8 81.4 L -0.0 31.6 Z")}#arrow path{fill:currentColor;d:inherit}#arrow[hidden]{display:none}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;border-radius:inherit}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get togglable(){return this.hasAttribute("togglable")}set togglable(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get condensed(){return this.hasAttribute("condensed")}set condensed(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed")}get skin(){return this.hasAttribute("skin")?this.getAttribute("skin"):null}set skin(t){null===t?this.removeAttribute("skin"):this.setAttribute("skin",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get expanded(){return this.hasAttribute("expanded")}get expandable(){return this.#at()||this.#lt()}get ownerButtons(){if(this.parentElement){if("x-buttons"===this.parentElement.localName)return this.parentElement;if("x-box"===this.parentElement.localName&&this.parentElement.parentElement&&"x-buttons"===this.parentElement.parentElement.localName)return this.parentElement.parentElement}return null}#T=null;#M={};#dt=!1;#ut=null;#ct=0;#D=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Fe.#L],this.#T.append(document.importNode(Fe.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.addEventListener("pointerdown",(t=>this.#pt(t))),this.addEventListener("pointerenter",(()=>this.#mt())),this.addEventListener("pointerleave",(()=>this.#gt())),this.addEventListener("click",(t=>this.#I(t))),this.addEventListener("keydown",(t=>this.#bt(t))),(async()=>{await customElements.whenDefined("x-backdrop"),this.#M.backdrop=Re("x-backdrop"),this.#M.backdrop.style.background="rgba(0, 0, 0, 0)"})()}connectedCallback(){this.parentElement&&"a"===this.parentElement.localName&&-1!==this.parentElement.tabIndex&&(this.parentElement.tabIndex=-1),this.#ft(),this.#xt(),this.#wt(),this.#F(),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t){"disabled"===t?this.#xt():"skin"===t?this.#wt():"size"===t&&this.#F()}expand(){return new Promise((async t=>{this.#at()?await this.#vt():this.#lt()&&await this.#yt(),t()}))}collapse(t=null){return new Promise((async e=>{this.#kt()?await this.#zt(t):this.#Ct()&&await this.#St(t),e()}))}#vt(){return new Promise((async t=>{if(this.#at()){let t=this.querySelector(":scope > x-menu"),e=this.querySelector(":scope > x-tooltip");e&&e.close(!1),this.#dt=this.matches(":focus"),this.setAttribute("expanded",""),this.#M.backdrop.ownerElement=t,this.#M.backdrop.show(!1),await t.openNextToElement(this,"vertical",3),t.focus()}t()}))}#zt(t=null){return new Promise((async e=>{if(this.#kt()){let e=this.querySelector(":scope > x-menu");if(e.setAttribute("closing",""),await t,await e.close(),this.#M.backdrop.hide(!1),this.removeAttribute("expanded"),this.replaceWith(this),this.#dt)this.focus();else{let t=Pe(this.parentNode,"[tabindex]");t&&t.focus()}e.removeAttribute("closing")}e()}))}#at(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-menu");if(e&&!1===e.hasAttribute("opened")&&!1===e.hasAttribute("closing")){null!==e.querySelector("x-menuitem")&&(t=!0)}}return t}#kt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-menu");e&&e.opened&&(t=!0)}return t}#yt(){return new Promise((async t=>{if(this.#lt()){let t=this.querySelector(":scope > x-popover"),e=this.querySelector(":scope > x-tooltip");e&&e.close(!1),this.#dt=this.matches(":focus"),this.setAttribute("expanded",""),await t.open(this)}t()}))}#St(t=null){return new Promise((async e=>{if(this.#Ct()){let e=this.querySelector(":scope > x-popover");if(e.setAttribute("closing",""),await t,await e.close(),this.removeAttribute("expanded"),e.modal&&this.replaceWith(this),this.#dt)this.focus();else{let t=Pe(this.parentNode,"[tabindex]");t&&t.focus()}e.removeAttribute("closing")}e()}))}#lt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-popover");e&&!1===e.hasAttribute("opened")&&(t=!0)}return t}#Ct(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-popover");e&&e.opened&&(t=!0)}return t}#Et(){return new Promise((t=>{if(this.#At()){this.querySelector(":scope > dialog").showModal()}t()}))}#At(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > dialog");e&&!1===e.hasAttribute("open")&&!1===e.hasAttribute("closing")&&(t=!0)}return t}#Lt(){return new Promise((t=>{if(this.#Mt()){this.querySelector(":scope > x-notification").opened=!0}t()}))}#Mt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-notification");!e||e.hasAttribute("opened")||e.hasAttribute("closing")||(t=!0)}return t}#ft(){let t=this.querySelector(":scope > x-menu, :scope > x-popover");this.#M.arrow.style.display=t?null:"none"}#xt(){this.setAttribute("role","button"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#ct=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#ct>0?this.#ct:0),this.#ct=0)}#wt(){!1===this.hasAttribute("skin")&&this.setAttribute("skin","default")}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#pt(t){let e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(this.#ut=t,t.target===this.#M.backdrop)this.#Tt(t);else{if(e&&e.contains(t.target))return;if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.#$t(t)}}#mt(){let t=this.querySelector(":scope > x-tooltip");if(t&&!1===t.disabled){if("x-buttons"===this.parentElement.localName)for(let t of this.parentElement.children)if(t!==this&&"x-button"===t.localName){let e=t.querySelector(":scope > x-tooltip");e&&e.close(!1)}t.open(this)}}#gt(){let t=this.querySelector(":scope > x-tooltip");t&&t.close()}#I(t){let e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(t.target!==this.#M.backdrop)if(e&&e.contains(t.target))!1===e.hasAttribute("closing")&&t.target.closest("x-menuitem")&&this.#Dt(t);else{if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.#Rt(t)}}#Tt(t){this.collapse()}async#$t(t){if(t.buttons>1)t.preventDefault();else if(this.querySelector(":scope > dialog[open]"))t.preventDefault();else if(!1!==this.contains(t.target)){if(this.setPointerCapture(t.pointerId),t.preventDefault(),!1===this.matches(":focus")){let t=Pe(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("pointerup",(()=>{t?t.focus():this.blur()}),{once:!0})}if(!1===this.#at()&&!1===this.#lt()&&!1===this.#Ct()){let t=Date.now(),e=!0,i=parseInt(getComputedStyle(this).getPropertyValue("--min-pressed-time")||"150ms");this.addEventListener("pointerup",(async()=>{e=!1;let s=Date.now()-t;s<i&&await ve(i-s),this.removeAttribute("pressed")}),{once:!0}),(async()=>{if(this.ownerButtons)if(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking)await ve(10);else if(1!==this.ownerButtons.tracking||!1!==this.toggled&&!this.mixed){if(3===this.ownerButtons.tracking){let t=[...this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")].filter((t=>t.toggled));(!1===this.toggled||t.length>1)&&await ve(10)}}else await ve(10);else this.togglable&&await ve(10);e&&this.setAttribute("pressed","")})()}this.#at()?"touch"!==t.pointerType&&this.#vt():this.#lt()?"touch"!==t.pointerType&&this.#yt():this.#Ct()&&this.#St();{let e=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("ripple"===e){let e=this.#M.ripples.getBoundingClientRect(),i=1.5*Oe(e.width,e.height),s=t.clientY-e.y-i/2,n=t.clientX-e.x-i/2,o=new Promise((t=>this.addEventListener("pointerup",t,{once:!0}))),h=!0;if(!1===this.expandable)if(this.ownerButtons){if(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking)h=!1;else if(1===this.ownerButtons.tracking&&!1===this.toggled)h=!1;else if(3===this.ownerButtons.tracking){let t=[...this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")].filter((t=>t.toggled));(!1===this.toggled||t.length>1)&&(h=!1)}}else this.togglable&&(h=!1);let r=Re("div");r.setAttribute("part","ripple"),r.setAttribute("class","ripple pointer-down-ripple"),r.setAttribute("style",`width: ${i}px; height: ${i}px; top: ${s}px; left: ${n}px;`),this.#M.ripples.append(r),this.#M.ripples.style.contain="strict";let a=r.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(await o,h){await a.finished;let t=r.animate({opacity:[getComputedStyle(r).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await t.finished}r.remove()}else if("unbounded-ripple"===e){let t=this.#M.ripples.getBoundingClientRect(),e=1.25*t.height,i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,n=new Promise((t=>this.addEventListener("pointerup",t,{once:!0}))),o=Re("div");o.setAttribute("part","ripple"),o.setAttribute("class","ripple pointer-down-ripple"),o.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.#M.ripples.append(o),this.#M.ripples.style.contain="none",o.hidden=!0,await ve(20),o.hidden=!1;let h=o.animate({transform:["scale(0)","scale(1)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await n,await h.finished;let r=o.animate({opacity:[getComputedStyle(o).opacity||"0","0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await r.finished,o.remove()}}}}async#Rt(t){let e=this.querySelector(":scope > x-menu, :scope > x-popover");if(e){if(e.hasAttribute("closing"))return;e.focus()}if(!1===this.#Ct()&&(this.#At()?this.#Et():this.#Mt()&&this.#Lt()),this.#ut&&"touch"===this.#ut.pointerType&&(this.#at()?this.#vt():this.#lt()&&this.#yt()),this.togglable&&!1===t.defaultPrevented&&(this.removeAttribute("pressed"),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))),null===this.#M.ripples.querySelector(".pointer-down-ripple")){let t=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("ripple"===t){let t=this.#M.ripples.getBoundingClientRect(),e=1.5*Oe(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,n=!0;this.ownerButtons?(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking||3===this.ownerButtons.tracking||1===this.ownerButtons.tracking&&!0===this.toggled)&&(n=!1):this.togglable&&(n=!1);let o=Re("div");o.setAttribute("part","ripple"),o.setAttribute("class","ripple click-ripple"),o.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.#M.ripples.append(o),this.#M.ripples.style.contain="strict";let h=o.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(n){await h.finished;let t=o.animate({opacity:[getComputedStyle(o).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await t.finished}o.remove()}else if("unbounded-ripple"===t){let t=this.#M.ripples.getBoundingClientRect(),e=1.35*t.height,i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,n=Re("div");n.setAttribute("part","ripple"),n.setAttribute("class","ripple"),n.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.#M.ripples.append(n),this.#M.ripples.style.contain="none",await n.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,await n.animate({opacity:[getComputedStyle(n).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,n.remove()}}}#Dt(t){let e=t.target.closest("x-menuitem");this.querySelector(":scope > x-menu").hasAttribute("closing")||this.collapse(e.whenTriggerEnd)}#bt(t){!1===t.defaultPrevented&&("Enter"===t.code||"Space"===t.code?this.#at()?(t.preventDefault(),this.#vt().then((()=>this.querySelector(":scope > x-menu").focusFirstMenuItem()))):this.#lt()?(t.preventDefault(),this.#yt()):this.#At()?(t.preventDefault(),this.#Et()):this.#Mt()?(t.preventDefault(),this.#Lt()):this.matches(":focus")&&(this.#Ct()?this.#St():this.#kt()?this.#zt():(t.preventDefault(),this.click())):"ArrowDown"===t.code?this.#at()?(this.querySelector(":scope > x-menu"),t.preventDefault(),this.#vt().then((()=>this.querySelector(":scope > x-menu").focusFirstMenuItem()))):this.#lt()?(t.preventDefault(),this.#yt()):(t.preventDefault(),this.click()):"ArrowUp"===t.code?this.#at()?(t.preventDefault(),this.#vt().then((()=>this.querySelector(":scope > x-menu").focusLastMenuItem()))):this.#lt()?(t.preventDefault(),this.#yt()):(t.preventDefault(),this.click()):"Escape"===t.code&&(this.#kt()||this.#Ct())&&(t.preventDefault(),this.collapse()))}}customElements.define("x-button",Fe);let{isArray:Be}=Array;class Ne extends HTMLElement{static#A=St`<template><slot></slot></template>`;static#L=Et`:host{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;box-sizing:border-box;width:fit-content}:host([hidden]){display:none}`;get tracking(){return this.hasAttribute("tracking")?parseInt(this.getAttribute("tracking")):-1}set tracking(t){this.setAttribute("tracking",t)}get vertical(){return this.hasAttribute("vertical")}set vertical(t){!0===t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}get value(){if(2===this.tracking||3===this.tracking){return this.#Pt().filter((t=>t.toggled)).map((t=>t.value)).filter((t=>null!=t))}if(1===this.tracking||0===this.tracking){let t=this.#Pt().find((t=>t.toggled));return t&&void 0!==t.value?t.value:null}if(-1===this.tracking)return null}set value(t){if(2===this.tracking||3===this.tracking){let e=this.#Pt();if(Be(t))for(let i of e)i.toggled=t.includes(i.value);else for(let i of e)i.toggled=i.value===t}else if(1===this.tracking||0===this.tracking){let e=this.#Pt(),i=e.find((e=>e.value===t));for(let t of e)t.toggled=t===i}}#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Ne.#L],this.#T.append(document.importNode(Ne.#A.content,!0)),this.addEventListener("click",(t=>this.#I(t)),!0),this.addEventListener("keydown",(t=>this.#bt(t)))}connectedCallback(){for(let t of this.children)if("x-button"===t.localName){"none"!==getComputedStyle(t).boxShadow?this.setAttribute("hasboxshadow",""):this.removeAttribute("hasboxshadow");break}}#Pt(){return[...this.querySelectorAll(":scope > x-button, :scope > x-box > x-button")]}#I(t){if(t.buttons>1)return;let e=t.target.closest("x-button");if(e&&!1===e.disabled&&!1===e.expandable){let t=this.#Pt().filter((t=>t!==e));if(0===this.tracking){e.mixed||(e.toggled=!e.toggled),e.mixed=!1;for(let e of t)e.toggled=!1,e.mixed=!1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}else if(1===this.tracking){if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1;for(let e of t)e.toggled=!1,e.mixed=!1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}}else if(2===this.tracking)e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));else if(3===this.tracking){let i=t.filter((t=>!0===t.toggled));(!1===e.toggled||i.length>0)&&(e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e})))}}}#bt(t){let{key:e}=t;if("ArrowRight"===e){let t=[...this.children].find((t=>t.matches(":focus")));t&&(t.nextElementSibling?t.nextElementSibling.focus():t!==t.parentElement.firstElementChild&&t.parentElement.firstElementChild.focus())}else if("ArrowLeft"===e){let t=[...this.children].find((t=>t.matches(":focus")));t&&(t.previousElementSibling?t.previousElementSibling.focus():t!==t.parentElement.lastElementChild&&t.parentElement.lastElementChild.focus())}}}customElements.define("x-buttons",Ne);class He extends HTMLElement{static#A=St`<template><slot id="slot"></slot></template>`;static#L=Et`:host{display:block;width:100%;min-width:20px;min-height:48px;box-sizing:border-box;margin:30px 0}:host([hidden]){display:none}#slot{border-radius:inherit}`;#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[He.#L],this.#T.append(document.importNode(He.#A.content,!0))}}customElements.define("x-card",He);class je extends HTMLElement{static observedAttributes=["toggled","disabled","size"];static#A=St`<template><main id="main"><div id="indicator" part="indicator"><div id="ripples"></div><svg id="checkmark" viewBox="0 0 100 100" preserveAspectRatio="none"><path></path></svg></div><div id="description"><slot></slot></div></main></template>`;static#L=Et`:host{display:block;width:fit-content;--trigger-effect:none}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}:host(:focus){outline:0}#main{display:flex;align-items:center}#indicator{position:relative;width:19px;height:19px;box-sizing:border-box;border:2px solid currentColor;overflow:hidden;d:path("M 0 0 L 100 0 L 100 100 L 0 100 L 0 0 Z M 95 23 L 86 13 L 37 66 L 13.6 41 L 4.5 51 L 37 85 L 95 23 Z")}:host([mixed]) #indicator{d:path("M 0 0 L 100 0 L 100 100 L 0 100 Z M 87 42.6 L 13 42.6 L 13 57.4 L 87 57.4 Z")}#checkmark{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;d:inherit;transition-property:opacity;transition-timing-function:inherit;transition-duration:inherit}:host([mixed]) #checkmark{opacity:1}:host([toggled]) #checkmark{opacity:1}#checkmark path{fill:currentColor;d:inherit}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:100%;height:100%;background:currentColor;opacity:.15;z-index:-1;will-change:opacity,transform;border-radius:999px;transform:scale(2.6)}#description{flex:1}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#ct=0;#D=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[je.#L],this.#T.append(document.importNode(je.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.addEventListener("pointerdown",(t=>this.#pt(t))),this.addEventListener("click",(t=>this.#I(t))),this.addEventListener("keydown",(t=>this.#bt(t)))}connectedCallback(){Ce.addEventListener("sizechange",this.#D=()=>this.#F()),this.#xt(),this.#F()}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t){"toggled"===t?this.#It():"disabled"===t?this.#Ot():"size"===t&&this.#F()}#xt(){this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#ct=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#ct>0?this.#ct:0),this.#ct=0)}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#It(){this.setAttribute("aria-toggled",this.mixed?"mixed":this.toggled)}#Ot(){this.#xt()}#pt(t){if(t.buttons>1)t.preventDefault();else{if(!1===this.matches(":focus")){t.preventDefault();let e=Pe(this.parentNode,"[tabindex]");e&&e.focus()}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let e=Re("div");e.setAttribute("class","ripple pointer-down-ripple"),this.#M.ripples.append(e);let i=e.animate({transform:["scale(0)","scale(2.6)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.setPointerCapture(t.pointerId),this.addEventListener("pointerup",(async()=>{await i.finished;let t=e.animate({opacity:[getComputedStyle(e).opacity,"0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await t.finished,e.remove()}),{once:!0})}}}async#I(t){if(this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})),null===this.#M.ripples.querySelector(".pointer-down-ripple")){if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=Re("div");t.setAttribute("class","ripple"),this.#M.ripples.append(t),await t.animate({transform:["scale(0)","scale(2.6)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,await t.animate({opacity:[getComputedStyle(t).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,t.remove()}}}#bt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-checkbox",je);class Ue extends HTMLElement{static observedAttributes=["value","disabled","size"];static#A=St`<template><input tabindex="-1" id="input" type="color" value="#ffffff"><slot></slot></template>`;static#L=Et`:host{display:block;width:32px;height:32px;box-sizing:border-box;position:relative;overflow:hidden;background-color:#fff;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.4}::slotted(x-popover){width:190px;height:auto;padding:12px 12px}#input{display:flex;width:100%;height:100%;box-sizing:border-box;border:none;background:0 0;padding:0;opacity:0;-webkit-appearance:none}#input::-webkit-color-swatch-wrapper{padding:0}#input::-webkit-color-swatch{border:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff"}set value(t){this.setAttribute("value",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#Ft=!1;#dt=!1;#D=null;#ct=0;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Ue.#L],this.#T.append(document.importNode(Ue.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.addEventListener("click",(t=>this.#I(t))),this.addEventListener("keydown",(t=>this.#bt(t))),this.addEventListener("pointerdown",(t=>this.#pt(t))),this.addEventListener("change",(t=>this.#Bt(t))),this.#M.input.addEventListener("change",(t=>this.#Nt(t)))}connectedCallback(){let t=this.querySelector("x-wheelcolorpicker, x-rectcolorpicker, x-barscolorpicker");t&&t.setAttribute("value",y(this.value,"rgba")),this.#xt(),this.#F(),this.#Ht(),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t){"value"===t?this.#Q():"disabled"===t?this.#Ot():"size"===t&&this.#tt()}async#jt(){if(!1===this.hasAttribute("expanded")){let t=this.querySelector("x-popover");t&&(this.#dt=this.matches(":focus"),this.setAttribute("expanded",""),await t.open(this),t.focus())}}async#Ut(t=null){if(this.hasAttribute("expanded")){let t=this.querySelector("x-popover");if(t){if(t.setAttribute("closing",""),await t.close(),this.removeAttribute("expanded"),this.#dt)this.focus();else{let t=Pe(this.parentNode,"[tabindex]");t&&t.focus()}t.removeAttribute("closing")}}}#Ht(){let[t,e,i,s]=(new E).parse(this.value,"rgba");this.#M.input.value=v([t,e,i,s],"rgba","hex"),this.#M.input.style.opacity=s}#xt(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#ct=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#ct>0?this.#ct:0),this.#ct=0)}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#Q(){this.#Ft||this.#Ht();let t=[...this.querySelectorAll("*")].find((t=>t.localName.endsWith("colorpicker")));t&&t.getAttribute("value")!==this.getAttribute("value")&&t.setAttribute("value",this.getAttribute("value"))}#Ot(){this.#xt()}#tt(){this.#F()}#Bt(t){t.target!==this&&(this.value=y(t.target.value,"rgba"),this.#Ht())}#Nt(){!1===this.#Ft&&(this.#Ft=!0,this.dispatchEvent(new CustomEvent("changestart"))),this.value=this.#M.input.value,this.dispatchEvent(new CustomEvent("change")),this.#qt()}#qt=ze((()=>{this.#Ft&&(this.#Ft=!1,this.value=this.#M.input.value,this.dispatchEvent(new CustomEvent("changeend")))}),400);#pt(t){t.target===this&&t.preventDefault()}#I(t){let e=this.querySelector(":scope > x-popover");e&&(e.opened?(!1===e.modal&&t.target===this||!0===e.modal&&"x-backdrop"===t.target.localName)&&(t.preventDefault(),this.#Ut()):(t.preventDefault(),this.#jt()))}#bt(t){if("Enter"===t.code||"Space"===t.code){let e=this.querySelector("x-popover");t.preventDefault(),t.stopPropagation(),e?this.hasAttribute("expanded")?this.#Ut():this.#jt():this.#M.input.click()}else if("Escape"===t.code){this.querySelector("x-popover")&&this.hasAttribute("expanded")&&(t.preventDefault(),this.#Ut())}else"Tab"===t.code&&this.hasAttribute("expanded")&&t.preventDefault()}}customElements.define("x-colorselect",Ue);class qe extends HTMLElement{static#A=St`<template><slot></slot></template>`;static#L=Et`:host{display:block;position:fixed;width:0;height:0;z-index:1001}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#T=null;#M={};#Kt=null;#Vt=null;#Xt=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[qe.#L],this.#T.append(document.importNode(qe.#A.content,!0)),this.#M.backdrop=Re("x-backdrop"),this.#M.backdrop.style.background="rgba(0, 0, 0, 0)",this.#M.backdrop.addEventListener("contextmenu",(t=>this.#Zt(t))),this.#M.backdrop.addEventListener("pointerdown",(t=>this.#Tt(t))),this.addEventListener("blur",(t=>this.#Gt())),this.addEventListener("keydown",(t=>this.#bt(t)),!0),this.addEventListener("click",(t=>this.#I(t)))}connectedCallback(){this.#Kt=this.parentElement||this.parentNode.host,window.addEventListener("blur",this.#Vt=()=>{this.#Gt()}),this.#Kt.addEventListener("contextmenu",this.#Xt=t=>{this.#Yt(t)})}disconnectedCallback(){window.removeEventListener("blur",this.#Vt),this.#Kt.removeEventListener("contextmenu",this.#Xt),this.#Kt=null}open(t,e){let i=this.querySelector("x-menu");!1===i.opened&&(i.openAtPoint(t,e),this.#M.backdrop.ownerElement=i,this.#M.backdrop.show(!1),i.focus())}close(){return new Promise((async t=>{let e=this.querySelector("x-menu");if(e&&!0===e.opened){await e.close(),this.#M.backdrop.hide(!1);let t=Pe(this.parentNode,"[tabindex]");t&&t.focus()}t()}))}#Gt(){this.close()}#Yt(t){!1===this.disabled&&(t.preventDefault(),this.open(t.clientX,t.clientY))}#Zt(t){t.preventDefault(),t.stopImmediatePropagation(),this.close().then((()=>{let e=((t,e,i=!0)=>{let s=document.elementFromPoint(t,e);if(i&&s)for(;;){let i=s.shadowRoot||s._shadowRoot;if(!i)break;{let n=i.elementFromPoint(t,e);if(n.getRootNode()!==i&&(n=null),!n||n===s)break;s=n}}return s})(t.clientX,t.clientY,!0),i=new MouseEvent(t.type,t);e.dispatchEvent(i)}))}#Tt(t){t.buttons<=1&&(t.preventDefault(),t.stopImmediatePropagation(),this.close())}async#I(t){let e=t.target.closest("x-menuitem");if(e&&!1===e.disabled){let t=e.querySelector("x-menu");t?t.opened?t.close():t.openNextToElement(e,"horizontal"):(this.setAttribute("closing",""),await e.whenTriggerEnd,await this.close(),this.removeAttribute("closing"))}}#bt(t){if("Escape"===t.key){this.querySelector("x-menu").opened&&(t.preventDefault(),this.close())}else if("Tab"===t.key){t.preventDefault(),t.stopPropagation(),this.querySelector("x-menu").focusNextMenuItem()}}}customElements.define("x-contextmenu",qe);class Ke extends HTMLElement{static observedAttributes=["href","size"];static#A=St`<template><svg id="svg" preserveAspectRatio="none" viewBox="0 0 100 100" width="0px" height="0px"></svg></template>`;static#L=Et`:host{display:block;color:currentColor;display:flex;align-items:center;justify-content:center;width:17px;height:17px}:host([disabled]){opacity:.5}:host([hidden]){display:none}#svg{width:100%;height:100%;fill:currentColor;stroke:none;overflow:inherit;pointer-events:none}`;get href(){return this.hasAttribute("href")?this.getAttribute("href"):""}set href(t){this.setAttribute("href",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#_t=null;#D=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Ke.#L],this.#T.append(document.importNode(Ke.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t}connectedCallback(){Ce.addEventListener("iconsetschange",this.#_t=()=>{this.#J()}),Ce.addEventListener("sizechange",this.#D=()=>{this.#F()}),this.#F()}disconnectedCallback(){Ce.removeEventListener("iconsetschange",this.#_t),Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t,e,i){e!==i&&("href"===t?this.#J():"size"===t&&this.#F())}async#J(){let t=null,e=this.href.trim();if(""!==e){let i=null,s=null;if(e.includes("#")){let t=e.split("#");""!==t[0]&&(i=t[0]),""!==t[1]&&(s=t[1])}if(null!==s)if(null===i)await Ce.whenIconsetsReady,t=Ce.queryIcon("#"+CSS.escape(s));else{let e=await Mt(i);e&&(t=e.querySelector("#"+CSS.escape(s)))}}t?(this.#M.svg.setAttribute("viewBox",t.getAttribute("viewBox")),this.#M.svg.innerHTML=t.innerHTML):this.#M.svg.innerHTML=""}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-icon",Ke);class Ve extends HTMLElement{static observedAttributes=["type","value","spellcheck","maxlength","readonly","disabled","validation","size"];static#A=St`<template><main id="main"><slot></slot><input id="input" spellcheck="false" part="input"></main></template>`;static#L=Et`:host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:focus){z-index:10}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;width:100%;height:100%}#input{width:100%;height:100%;padding:0 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:inherit;cursor:inherit}#input:-webkit-autofill{z-index:1}#input:-internal-autofill-previewed,#input:-internal-autofill-selected{-webkit-box-shadow:var(--autofill-background-color) 0 0 0 30px inset}:host(:not(:focus)) ::selection{color:inherit;background:0 0}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"text"}set type(t){this.setAttribute("type",t)}get value(){return this.#M.input.value}set value(t){this.#M.input.value!==t&&(this.matches(":focus")?(this.#M.input.selectionStart=0,this.#M.input.selectionEnd=this.#M.input.value.length,document.execCommand("insertText",!1,t)):this.#M.input.value=t,"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Wt||this.#Jt)&&this.reportValidity(),this.#Qt())}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get minLength(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0}set minLength(t){this.setAttribute("minlength",t)}get maxLength(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity}set maxLength(t){this.setAttribute("maxlength",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get readOnly(){return this.hasAttribute("readonly")}set readOnly(t){!0===t?this.setAttribute("readonly",t):this.removeAttribute("readonly")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get validation(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto"}set validation(t){this.setAttribute("validation",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get empty(){return this.hasAttribute("empty")}get error(){return this.hasAttribute("error")}#T=null;#M={};#ct=0;#Wt=null;#Jt=null;#D=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#T.adoptedStyleSheets=[Ve.#L],this.#T.append(document.importNode(Ve.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.addEventListener("click",(t=>this.#I(t))),this.addEventListener("focusin",(t=>this.#te(t))),this.addEventListener("focusout",(t=>this.#ee(t))),this.addEventListener("keydown",(t=>this.#bt(t))),this.#M.input.addEventListener("change",(t=>this.#Nt(t))),this.#M.input.addEventListener("input",(t=>this.#ie(t))),this.#M.input.addEventListener("search",(t=>this.#se(t)))}connectedCallback(){this.#xt(),this.#F(),this.#Qt(),"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Wt||this.#Jt)&&this.reportValidity(),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t){"type"===t?this.#ne():"value"===t?this.#Q():"spellcheck"===t?this.#oe():"maxlength"===t?this.#he():"readonly"===t?this.#re():"disabled"===t?this.#Ot():"validation"===t?this.#ae():"size"===t&&this.#le()}selectAll(){this.#M.input.select()}clear(){this.value="",this.#Wt=null,this.#Jt=null,this.#de()}reportValidity(){let t=new CustomEvent("beforevalidate",{bubbles:!1,cancelable:!0});return this.dispatchEvent(t),!1===t.defaultPrevented&&(this.value.length<this.minLength?this.#Wt={href:"#entered-text-is-too-short"}:this.value.length>this.maxLength?this.#Wt={href:"#entered-text-is-too-long"}:this.required&&0===this.value.length?this.#Wt={href:"#required-field"}:"email"===this.type&&!1===this.#M.input.validity.valid?this.#Wt={href:"#invalid-email"}:"url"===this.type&&!1===this.#M.input.validity.valid?this.#Wt={href:"#invalid-url"}:"color"===this.type&&!1===(t=>{try{(new E).parse(t)}catch(t){return!1}return!0})(this.#M.input.value)?this.#Wt={href:"#invalid-color"}:this.#Wt=null,this.#de()),null===this.#Wt&&null===this.#Jt}setCustomValidity(t){this.#Jt=""===t?null:t,this.#de()}#de(){let t=this.#Jt||this.#Wt;t?this.setAttribute("error",""):this.removeAttribute("error");{let e=this.querySelector(':scope > x-tooltip[type="error"]');if(t&&this.matches(":focus")){if(e||(e=Re("x-tooltip"),e.setAttribute("type","error"),this.append(e)),t.href){let i=t.args?Object.entries(t.args).map((([t,e])=>`${t}:${e}`)).join(","):"";e.innerHTML=`<x-message href="${t.href}" args="${i}"></x-message>`}else e.innerHTML=t;ve(10).then((()=>{e.open(this)}))}else e&&e.close().then((()=>e.remove()))}}#Qt(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty")}#xt(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("aria-readonly",this.readOnly),this.disabled?(this.#ct=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#ct>0?this.#ct:0),this.#ct=0)}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#ne(){"color"===this.type?this.#M.input.type="text":this.#M.input.type=this.type}#Q(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&this.selectAll()}#oe(){this.#M.input.spellcheck=this.spellcheck}#he(){this.#M.input.maxLength=this.maxLength}#re(){this.#M.input.readOnly=this.readOnly,this.#xt()}#Ot(){this.#M.input.disabled=this.disabled,this.#xt()}#ae(){"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Wt||this.#Jt)&&this.reportValidity()}#le(){this.#F()}#I(){this.#de()}#te(){this.#de(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#ee(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),"auto"===this.validation||"instant"===this.validation?this.reportValidity():"manual"===this.validation&&this.#de()}#bt(t){"Enter"===t.key&&(document.execCommand("selectAll"),"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||this.reportValidity())}#ie(t){"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Wt||this.#Jt)&&this.reportValidity(),t.stopPropagation(),this.#Qt(),this.dispatchEvent(new CustomEvent("input",{bubbles:!0}))}#Nt(){"search"!==this.type&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}#se(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}customElements.define("x-input",Ve);class Xe extends HTMLElement{static#A=St`<template><slot></slot></template>`;static#L=Et`:host{display:block;line-height:1.2;user-select:none;box-sizing:border-box}:host([disabled]){opacity:.5}:host([hidden]){display:none}slot{text-decoration:inherit}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Xe.#L],this.#T.append(document.importNode(Xe.#A.content,!0))}}customElements.define("x-label",Xe);let{isFinite:Ze,isNaN:Ge,parseFloat:Ye}=Number;class _e extends HTMLElement{static observedAttributes=["href","args","autocapitalize","ellipsis"];get href(){return this.hasAttribute("href")?this.getAttribute("href"):""}set href(t){this.setAttribute("href",t)}get args(){let t=Object.create(null),e=this.hasAttribute("args")?this.getAttribute("args").trim():"";if(""!==e)for(let i of e.split(",")){let[e,s]=i.split(":");e=e.trim(),s=s.trim();let n=parseFloat(s),o=s-n+1>=0;t[e]=o?n:s}return t}set args(t){let e=Object.keys(t).map((e=>`${e}: ${t[e]}`)).join(", ");0===t.length?this.removeAttribute("args"):this.setAttribute("args",e)}get autocapitalize(){return!!this.hasAttribute("autocapitalize")}set autocapitalize(t){t?this.setAttribute("autocapitalize",""):this.removeAttribute("autocapitalize")}get ellipsis(){return this.hasAttribute("ellipsis")}set ellipsis(t){t?this.setAttribute("ellipsis",""):this.removeAttribute("ellipsis")}get whenReady(){return new Promise((t=>{null===this.#ue?t():this.#ue.push(t)}))}#ce=null;#pe=null;#ue=[];connectedCallback(){this.#J(),Ce.addEventListener("localeschange",this.#ce=()=>{this.#J()}),Ce.addEventListener("themechange",this.#pe=()=>{this.#J()})}disconnectedCallback(){Ce.removeEventListener("localeschange",this.#ce),Ce.removeEventListener("themechange",this.#pe)}attributeChangedCallback(t,e,i){e!==i&&!1!==this.isConnected&&("href"===t||"args"===t||"autocapitalize"===t||"ellipsis"===t)&&this.#J()}async#J(){await Ce.whenLocalesReady;let t=Ce.queryMessage(this.href,this.args);if("html"===t.format?this.innerHTML=t.content+(this.ellipsis?"…":""):!0===this.autocapitalize&&"titlecase"===Ce.autocapitalize?this.textContent=(t=>{let e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|v.?|vs.?|via)$/i,i=/([A-Za-z0-9\u00C0-\u00FF])/;return t.split(/([ :–—-])/).map(((t,s,n)=>t.search(e)>-1&&0!==s&&s!==n.length-1&&":"!==n[s-3]&&":"!==n[s+1]&&("-"!==n[s+1]||"-"===n[s-1]&&"-"===n[s+1])?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1||":"===n[s+1]&&""!==n[s+2]?t:t.replace(i,(t=>t.toUpperCase())))).join("")})(t.content)+(this.ellipsis?"…":""):this.textContent=t.content+(this.ellipsis?"…":""),null!==this.#ue){for(let t of this.#ue)t();this.#ue=null}}}customElements.define("x-message",_e);let We=t=>{let[e,i,...s]=t.trim().split(" ");return[i,parseFloat(e),s.join(" ")]},{abs:Je}=Math;class Qe extends HTMLElement{static observedAttributes=["opened"];static#A=St`<template><slot id="slot"></slot></template>`;static#L=Et`:host{display:none;top:0;left:0;width:fit-content;padding:4px 0;z-index:1001;box-sizing:border-box;background:#fff;cursor:default;overflow:auto;flex-direction:column;-webkit-app-region:no-drag;--align:start;--scrollbar-background:rgba(0, 0, 0, 0.2);--scrollbar-width:6px;--open-transition:100 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:flex}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}::-webkit-scrollbar{max-width:var(--scrollbar-width);background:0 0}::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background)}::-webkit-scrollbar-corner{display:none}`;get opened(){return this.hasAttribute("opened")}#T=null;#M={};#me=[];#ge=null;#be=null;#fe=0;#xe=0;#we=!1;#ve=!1;#ye=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Qe.#L],this.#T.append(document.importNode(Qe.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.addEventListener("pointerdown",(t=>this.#pt(t))),this.addEventListener("pointerover",(t=>this.#ke(t))),this.addEventListener("pointerout",(t=>this.#ze(t))),this.addEventListener("pointermove",(t=>this.#Ce(t))),this.addEventListener("keydown",(t=>this.#bt(t))),this.addEventListener("wheel",(t=>this.#Se(t)),{passive:!1}),this.addEventListener("scroll",(t=>this.#Ee(t)),{passive:!0})}connectedCallback(){this.setAttribute("role","menu"),this.setAttribute("aria-hidden",!this.opened),this.setAttribute("tabindex","0")}attributeChangedCallback(t){"opened"===t&&this.#Ae()}openOverElement(t,e){return new Promise((async i=>{let s=this.querySelectorAll(":scope > x-menuitem");if(s.length>0){this.#we=!0,this.#ye=ye(),this.#Le(),this.setAttribute("opened","");let i=[...s].find((t=>t.contains(e)))||s[0],n=this.getBoundingClientRect(),o=t.getBoundingClientRect(),h=e.getBoundingClientRect(),r=0,a=0;i.focus(),0===n.top&&0===n.left||(r=-n.left,a=-n.top),this.style.left=o.x-(h.x-n.x)+r+"px",this.style.top=o.y-(h.y-n.y)+a+"px",n=this.getBoundingClientRect(),n.left<7&&(this.style.left=7+r+"px",n=this.getBoundingClientRect());7-n.top>0&&(this.style.height=n.bottom-7+"px",this.style.top=7+a+"px",this.scrollTop=9999,n=this.getBoundingClientRect());if(n.bottom+7>window.innerHeight){let t=n.bottom-window.innerHeight,e=n.height-t-7;this.style.height=e+"px"}if(n.right+7>window.innerWidth){let t=n.right-window.innerWidth,e=n.width-t-7;this.style.width=`${e}px`}{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=We(t);if("transform"===e){let t=this.getBoundingClientRect(),e=o.y+o.height/2-t.top;await this.animate({transform:["scaleY(0)","scaleY(1)"],transformOrigin:[`0 ${e}px`,`0 ${e}px`]},{duration:i,easing:s}).finished}}this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),this.#xe=a}i()}))}openOverLabel(t){return new Promise((async e=>{let i=this.querySelectorAll(":scope > x-menuitem");if(i.length>0){this.#Le(),this.setAttribute("opened",""),this.#we=!0,this.#ye=ye();let e=[...i].find((e=>{let i=e.querySelector("x-label");return!(!i||i.textContent!==t.textContent)}));e||(e=i[0]);let s=e.querySelector("x-label");await this.openOverElement(t,s)}e()}))}openNextToElement(t,e="horizontal",i=0){return new Promise((async s=>{this.#we=!1,this.#ye=ye(),this.#Le(),this.setAttribute("opened",""),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),"x-menuitem"===t.localName&&t.setAttribute("expanded","");let n=getComputedStyle(this).getPropertyValue("--align").trim(),o=t.getBoundingClientRect(),h=this.getBoundingClientRect(),r=0,a=0;if(0===h.top&&0===h.left||(r=-h.left,a=-h.top),"horizontal"===e){this.style.top=o.top+a+"px",this.style.left=o.left+o.width+i+r+"px";let t="right";{let t=this.getBoundingClientRect();t.width>window.innerWidth-10&&(this.style.width=window.innerWidth-10+"px"),t.height>window.innerHeight-10&&(this.style.height=window.innerHeight-10+"px")}{let e=this.getBoundingClientRect();e.left+e.width+7>window.innerWidth&&(o.left>e.width+7?(this.style.left=o.left-e.width+r+"px",t="left"):o.left>window.innerWidth-(o.left+o.width)?(this.style.left=7+r+"px",t="left"):(this.style.left=window.innerWidth-e.width-7+r+"px",t="right"))}{let t=this.getBoundingClientRect();if(t.top+t.height+7>window.innerHeight){let e=t.top+t.height+7-window.innerHeight;this.style.top=t.top-e+a+"px"}}{let e=getComputedStyle(this).getPropertyValue("--open-transition"),[i,s,n]=We(e);"transform"===i&&await this.animate({transform:["scale(0, 0)","scale(1, 1)"],transformOrigin:["left"===t?"100% 0":"0 0","left"===t?"100% 0":"0 0"]},{duration:s,easing:n}).finished}}else if("vertical"===e){this.style.top=o.top+o.height+i+a+"px",this.style.left="0px";let e="bottom";{let t=this.getBoundingClientRect();t.width>window.innerWidth-10&&(this.style.width=window.innerWidth-10+"px"),t.height>window.innerHeight-10&&(this.style.height=window.innerHeight-10+"px")}if(t.parentElement&&"x-menubar"===t.parentElement.localName){let t=this.getBoundingClientRect();t.top+t.height+7>window.innerHeight&&(this.style.height=window.innerHeight-(o.top+o.height)-10+"px")}else{let t=this.getBoundingClientRect();t.top+t.height+7>window.innerHeight&&(o.top>t.height+7?(this.style.top=o.top-t.height-i+a+"px",e="top"):o.top>window.innerHeight-(o.top+o.height)?(this.style.top=7+a+"px",e="top"):(this.style.top=window.innerHeight-t.height-7+a+"px",e="bottom"))}if("start"===n){this.style.left=o.left+r+"px";{let t=this.getBoundingClientRect();t.left+t.width+7>window.innerWidth&&(this.style.left=o.left+o.width-t.width+r+"px")}this.getBoundingClientRect().left<7&&(this.style.left=7+r+"px")}else if("end"===n){this.style.left=o.left+o.width-h.width+r+"px";this.getBoundingClientRect().left<7&&(this.style.left=o.left+r+"px");{let t=this.getBoundingClientRect();t.left+t.width+7>window.innerWidth&&(this.style.left=window.innerWidth-7+r+"px")}}{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[i,s,n]=We(t);"transform"===i&&await this.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["top"===e?"0 100%":"0 0","top"===e?"0 100%":"0 0"]},{duration:s,easing:n}).finished}}this.#xe=a,s()}))}openAtPoint(t,e){return new Promise((async i=>{this.#we=!1,this.#ye=ye(),this.#Le(),this.setAttribute("opened",""),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this}));let s=0,n=0,o=[...this.querySelectorAll(":scope > x-menuitem > x-label > x-message")];await Promise.all(o.map((t=>t.whenReady)));let h=this.getBoundingClientRect();0===h.top&&0===h.left||(s=-h.left,n=-h.top),this.style.left=t+s+"px",this.style.top=e+n+"px",h=this.getBoundingClientRect(),h.right+7>window.innerWidth&&(t-=h.width,this.style.left=t+s+"px",h=this.getBoundingClientRect()),h.bottom+7>window.innerHeight&&(e=e+window.innerHeight-(h.top+h.height)-7,this.style.top=e+n+"px",h=this.getBoundingClientRect(),h.top<7&&(e=7,this.style.top=e+n+"px",this.style.height=window.innerHeight-7-7+"px"));{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=We(t);"transform"===e&&await this.animate({transform:["scale(0)","scale(1)"],transformOrigin:["0 0","0 0"]},{duration:80,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).finished}this.#xe=n,i()}))}close(t=!0){return new Promise((async e=>{if(this.opened){this.removeAttribute("opened"),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this}));let e=this.closest("x-menuitem");if(e&&e.removeAttribute("expanded"),t){this.setAttribute("animating","");let t=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=We(t);"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished,this.removeAttribute("animating")}for(let t of this.querySelectorAll(":scope > x-menuitem")){let e=t.querySelector("x-menu[opened]");e&&e.close()}}e()}))}focusNextMenuItem(){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){let e=null;for(let i=t.nextElementSibling;i;i=i.nextElementSibling)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(null===e&&null!=t.parentElement)for(let i of t.parentElement.children)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(e){e.focus();let i=t.querySelector("x-menu");i&&i.close()}}else this.focusFirstMenuItem()}focusPreviousMenuItem(){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){let e=null;for(let i=t.previousElementSibling;i;i=i.previousElementSibling)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(null===e&&null!=t.parentElement)for(let i of[...t.parentElement.children].reverse())if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(e){e.focus();let i=t.querySelector("x-menu");i&&i.close()}}else this.focusLastMenuItem()}focusFirstMenuItem(){let t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])")[0]||null;t&&t.focus()}focusLastMenuItem(){let t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])"),e=t.length>0?t[t.length-1]:null;e&&e.focus()}#Me(t){let e=0;{let t=this.#me[this.#me.length-1],i=this.#me[0];if(this.querySelector("x-menu[opened]")&&t){i||(i=t);let s=this.getBoundingClientRect(),n={x:s.left,y:s.top-75},o={x:s.left+s.width,y:n.y},h={x:s.left,y:s.top+s.height+75},r={x:s.left+s.width,y:h.y},a=!0;if((i.x<s.left||i.x>r.x||i.y<s.top||i.y>r.y)&&(a=!1),this.#be&&t.x===this.#be.x&&t.y===this.#be.y&&(a=!1),a){let s,n;s=o,n=r;let h=(t,e)=>(e.y-t.y)/(e.x-t.x),a=h(t,s),l=h(t,n),d=h(i,s),u=h(i,n);a<d&&l>u?(this.#be=t,e=300):this.#be=null}}}e>0?this.#ge=setTimeout((()=>{this.#Me(t)}),e):t()}#Te(){this.#ge&&(clearTimeout(this.#ge),this.#ge=null)}#Le(){this.style.position="fixed",this.style.top="0px",this.style.left="0px",this.style.width=null,this.style.height=null,this.style.minWidth=null,this.style.maxWidth=null}#$e(){return this.matches("*[closing], *[closing] x-menu")}#Ae(){this.setAttribute("aria-hidden",!this.opened)}#pt(t){if(t.target!==this&&"hr"!==t.target.localName||t.stopPropagation(),"touch"===t.pointerType&&t.target.closest("x-menu")===this){!1===this.#ve&&this.#De();{let e=t.target.closest("x-menuitem");e&&!1===e.disabled&&e.closest("x-menu")===this?!1===e.matches(":focus")&&this.#Me((async()=>{let t=this.querySelector(":scope > x-menuitem:focus");if(t){let e=t.querySelector("x-menu");e&&e.close()}e.closest("x-menu");let i=e.querySelector("x-menu"),s=[...this.querySelectorAll(":scope > x-menuitem")].filter((t=>t!==e));i&&(await ve(60),e.matches(":focus")&&!1===i.opened&&i.openNextToElement(e,"horizontal"));for(let t of s){let e=t.querySelector("x-menu");e&&e.close()}})):this.#Me((()=>{this.focus()}))}}}#ke(t){if(!this.#$e()&&"touch"!==t.pointerType&&t.target.closest("x-menu")===this){!1===this.#ve&&this.#De();{let e=t.target.closest("x-menuitem");e&&!1===e.disabled&&e.closest("x-menu")===this?!1===e.matches(":focus")&&this.#Me((async()=>{let t=this.querySelector(":scope > x-menuitem:focus");if(t){let e=t.querySelector("x-menu");e&&e.close()}e.focus(),e.closest("x-menu");let i=e.querySelector("x-menu"),s=[...this.querySelectorAll(":scope > x-menuitem")].filter((t=>t!==e));i&&(await ve(60),e.matches(":focus")&&!1===i.opened&&i.openNextToElement(e,"horizontal"));for(let t of s){let e=t.querySelector("x-menu");e&&e.close()}})):this.#Me((()=>{this.focus()}))}}}#ze(t){t.relatedTarget&&Pe(t.relatedTarget,"x-menu")===this||!0===this.#ve&&this.#Re()}#De(){this.#$e()||(this.#ve=!0,this.#Te())}#Re(){this.#$e()||(this.#ve=!1,this.#Te(),this.focus())}#Ce(t){this.#me.push({x:t.clientX,y:t.clientY}),this.#me.length>3&&this.#me.shift()}#Se(t){t.target.closest("x-menu")===this?(t.preventDefault(),this.scrollTop=this.scrollTop+t.deltaY,this.#ve=!0):this.#ve=!1}#Ee(){if(this.#we){let t=this.scrollTop-this.#fe;if(this.#fe=this.scrollTop,ye()-this.#ye>100){let e=this.getBoundingClientRect();t<0?e.bottom+Je(t)<=window.innerHeight-7?this.style.height=e.height+Je(t)+"px":this.style.height=window.innerHeight-14+"px":t>0&&(e.top-t>=7?(this.style.top=this.#xe+e.top-t+"px",this.style.height=e.height+t+"px",this.scrollTop=0,this.#fe=0):(this.style.top=7+this.#xe+"px",this.style.height=window.innerHeight-14+"px"))}}}#bt(t){if(this.#$e())t.preventDefault(),t.stopPropagation();else if("ArrowUp"===t.key)t.preventDefault(),t.stopPropagation(),this.focusPreviousMenuItem();else if("ArrowDown"===t.key)t.preventDefault(),t.stopPropagation(),this.focusNextMenuItem();else if("ArrowRight"===t.code||"Enter"===t.code||"Space"===t.code){let e=this.querySelector("x-menuitem:focus");if(e){let i=e.querySelector("x-menu");if(i){t.preventDefault(),t.stopPropagation(),!1===i.opened&&i.openNextToElement(e,"horizontal");let s=i.querySelector("x-menuitem:not([disabled]):not([hidden])");s&&s.focus()}}}else if("ArrowLeft"===t.code){let e=this.querySelector("x-menuitem:focus");if(e){let i=e.closest("x-menu").closest("x-menuitem");i&&i.closest("x-menu")&&(t.preventDefault(),t.stopPropagation(),i.focus(),this.close())}}}}customElements.define("x-menu",Qe);class ti extends HTMLElement{static observedAttributes=["disabled","size"];static#A=St`<template><svg id="backdrop" hidden><path id="backdrop-path"></path></svg><slot></slot></template>`;static#L=Et`:host{display:flex;align-items:center;width:100%;height:36px;box-sizing:border-box}:host([disabled]){pointer-events:none;opacity:.6}:host([hidden]){display:none}#backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;pointer-events:none;touch-action:none}#backdrop[hidden]{display:none}#backdrop path{fill:red;fill-rule:evenodd;opacity:0;pointer-events:all}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#Pe=!1;#D=null;#Ie=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[ti.#L],this.#T.append(document.importNode(ti.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.addEventListener("focusout",(t=>this.#ee(t))),this.#T.addEventListener("pointerover",(t=>this.#Oe(t))),this.#T.addEventListener("click",(t=>this.#Fe(t))),this.#T.addEventListener("wheel",(t=>this.#Be(t))),this.#T.addEventListener("keydown",(t=>this.#Ne(t)))}connectedCallback(){this.setAttribute("role","menubar"),this.setAttribute("aria-disabled",this.disabled),this.#F(),Ce.addEventListener("sizechange",this.#D=()=>{this.#F()}),window.addEventListener("orientationchange",this.#Ie=()=>{this.#He()})}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D),window.removeEventListener("orientationchange",this.#Ie)}attributeChangedCallback(t){"disabled"===t?this.#Ot():"size"===t&&this.#F()}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#je(t){let e=t.querySelector(":scope > x-menu");if(e&&!1===e.opened){t.focus(),this.#Pe=!0,this.style.touchAction="none";{e.openNextToElement(t,"vertical");let i=[...this.querySelectorAll(":scope > x-menuitem > x-menu")].filter((t=>t!==e));for(let t of i)t&&t.close(!1)}{let{x:t,y:e,width:i,height:s}=this.getBoundingClientRect();this.#M["backdrop-path"].setAttribute("d",`\n          M 0 0\n          L ${window.innerWidth} 0\n          L ${window.innerWidth} ${window.innerHeight}\n          L 0 ${window.innerHeight}\n          L 0 0\n          M ${t} ${e}\n          L ${t+i} ${e}\n          L ${t+i} ${e+s}\n          L ${t} ${e+s}\n        `),this.#M.backdrop.removeAttribute("hidden")}}}#Ue(){return new Promise((async t=>{this.#Pe=!1,this.style.touchAction=null,this.#M.backdrop.setAttribute("hidden",""),this.#M["backdrop-path"].setAttribute("d","");{let t=this.querySelectorAll(":scope > x-menuitem > x-menu[opened]");for(let e of t)await e.close(!0)}let e=this.querySelector("x-menuitem:focus");e&&e.blur(),t()}))}#qe(){let t=[...this.querySelectorAll(":scope > x-menuitem:not([disabled])")],e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(t.length>1&&e){let i=t.indexOf(e),s=t[i-1]||t[t.length-1];this.#je(s)}}#Ke(){let t=[...this.querySelectorAll(":scope > x-menuitem:not([disabled])")],e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(e&&t.length>1){let i=t.indexOf(e),s=t[i+1]||t[0];this.#je(s)}}#Ot(){this.setAttribute("aria-disabled",this.disabled)}#ee(t){null!==t.relatedTarget&&!1!==this.contains(t.relatedTarget)||this.#Ue()}#He(){this.#Ue()}#Be(t){let e=this.querySelector("x-menu[opened]");e&&!1===e.contains(t.target)&&t.preventDefault()}async#Fe(t){if(this.hasAttribute("closing"))return;let e=t.target.closest("x-menuitem"),i=t.target.closest("x-menu");if(!e||!1!==e.disabled||i&&!i.contains(e))t.target===this.#M["backdrop-path"]&&(this.#Ue(),t.preventDefault(),t.stopPropagation());else{let t=e.querySelector("x-menu");e.parentElement===this?t&&(t.opened?this.#Ue():this.#je(e)):t?t.opened&&!1===t.opened&&t.openNextToElement(e,"horizontal"):(this.setAttribute("closing",""),await e.whenTriggerEnd,await this.#Ue(),this.removeAttribute("closing"))}}#Oe(t){if(this.hasAttribute("closing"))return;let e=t.target.closest("x-menuitem");null===t.target.closest("x-menu")&&e&&e.parentElement===this&&this.#Pe&&"touch"!==t.pointerType&&(!1===e.hasAttribute("expanded")?this.#je(e):e.focus())}#Ne(t){if(this.hasAttribute("closing"))t.stopPropagation(),t.preventDefault();else if("Enter"===t.code||"Space"===t.code){let e=this.querySelector(":scope > x-menuitem:focus");e&&(t.preventDefault(),e.click())}else if("Escape"===t.code)this.#Pe&&(t.preventDefault(),this.#Ue());else if("Tab"===t.code){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){t.focus();let e=t.querySelector(":scope > x-menu");e&&(e.tabIndex=-1,e.close().then((()=>{e.tabIndex=-1})))}}else if("ArrowRight"===t.code)this.#Ke();else if("ArrowLeft"===t.code)this.#qe();else if("ArrowDown"===t.code){let e=this.querySelector("x-menuitem:focus > x-menu");e&&(t.preventDefault(),e.focusFirstMenuItem())}else if("ArrowUp"===t.code){let e=this.querySelector("x-menuitem:focus > x-menu");e&&(t.preventDefault(),e.focusLastMenuItem())}}}customElements.define("x-menubar",ti);let{max:ei}=Math;class ii extends HTMLElement{static observedAttributes=["disabled","size"];static#A=St`<template><div id="ripples"></div><svg id="checkmark" part="checkmark" viewBox="0 0 100 100" preserveAspectRatio="none"><path></path></svg><slot></slot><svg id="arrow" part="arrow" viewBox="0 0 100 100" hidden><path></path></svg></template>`;static#L=Et`:host{display:flex;flex-flow:row;align-items:center;position:relative;padding:0 12px 0 23px;min-height:28px;box-sizing:border-box;cursor:default;user-select:none;--trigger-effect:blink}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.6}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;overflow:hidden}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.1;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#checkmark{display:none;transition:transform .2s cubic-bezier(.4, 0, .2, 1);align-self:center;width:18px;height:18px;margin:0 2px 0 -20px;d:path("M 44 61 L 29 47 L 21 55 L 46 79 L 79 27 L 70 21 L 44 61 Z");color:inherit}:host([togglable]) #checkmark{display:flex;transform:scale(0);transform-origin:50% 50%}:host([toggled]) #checkmark{display:flex;transform:scale(1)}#checkmark path{d:inherit;fill:currentColor}#arrow{display:flex;width:16px;height:16px;transform:scale(1.1);align-self:center;margin-left:8px;d:path("M 26 20 L 26 80 L 74 50 Z");opacity:1;color:inherit}#arrow[hidden]{display:none}#arrow path{d:inherit;fill:currentColor}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){this.value!==t&&(null===t?this.removeAttribute("value"):this.setAttribute("value",t))}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get togglable(){return this.hasAttribute("togglable")}set togglable(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get whenTriggerEnd(){return new Promise((t=>{0===this.#M.ripples.childElementCount&&!1===this.#Ve?t():this.#Xe.push(t)}))}#T=null;#M={};#ct=0;#Ve=!1;#Xe=[];#Ze=!1;#D=null;#Ge=new MutationObserver((()=>this.#Ye()));constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[ii.#L],this.#T.append(document.importNode(ii.#A.content,!0)),this.addEventListener("pointerdown",(t=>this.#pt(t))),this.addEventListener("click",(t=>this.#I(t))),this.addEventListener("keydown",(t=>this.#bt(t)));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t}connectedCallback(){this.#Ye(),this.#xt(),this.#F(),this.#Ge.observe(this,{childList:!0,attributes:!1,characterData:!1,subtree:!1}),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){this.#Ge.disconnect(),Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t){"disabled"===t?this.#xt():"size"===t&&this.#F()}#Ye(){if("x-menubar"===this.parentElement.localName)this.#M.arrow.setAttribute("hidden","");else{this.querySelector("x-menu")?this.#M.arrow.removeAttribute("hidden"):this.#M.arrow.setAttribute("hidden","")}}#xt(){this.setAttribute("role","menuitem"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#ct=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#ct>0?this.#ct:0),this.#ct=0)}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}async#pt(t){if(this.#Ze=this.matches(":focus"),t.buttons>1)return!1;if(this.matches("[closing] x-menuitem"))return t.preventDefault(),void t.stopPropagation();if(t.target.closest("x-menuitem")===this){this.setPointerCapture(t.pointerId);{let e=Date.now(),i=!0;this.addEventListener("pointerup",(async()=>{i=!1;let s=Date.now()-e,n="touch"===t.pointerType?600:150;s<n&&await ve(n-s),this.removeAttribute("pressed")}),{once:!0}),i&&this.setAttribute("pressed","")}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let e=this.#M.ripples.getBoundingClientRect(),i=1.5*ei(e.width,e.height),s=t.clientY-e.y-i/2,n=t.clientX-e.x-i/2,o=new Promise((t=>this.addEventListener("pointerup",t,{once:!0}))),h=Re("div");h.setAttribute("part","ripple"),h.setAttribute("class","ripple pointer-down-ripple"),h.setAttribute("style",`width: ${i}px; height: ${i}px; top: ${s}px; left: ${n}px;`),this.#M.ripples.append(h),this.setPointerCapture(t.pointerId);let r=h.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await o,await r.finished;let a=h.animate({opacity:[getComputedStyle(h).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(await a.finished,h.remove(),0===this.#M.ripples.childElementCount)for(let t of this.#Xe)t()}}}async#I(t){if(!(t.buttons>1||t.target.closest("x-menuitem")!==this||t.target.closest("x-menu")!==this.closest("x-menu")||this.matches("[closing] x-menuitem"))){if(this.togglable){let t=new CustomEvent("toggle",{bubbles:!0,cancelable:!0});this.dispatchEvent(t),!1===t.defaultPrevented&&(this.toggled=!this.toggled)}if(!this.querySelector(":scope > x-menu")){let t=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("ripple"===t){if(null===this.#M.ripples.querySelector(".pointer-down-ripple")){let t=this.#M.ripples.getBoundingClientRect(),e=1.5*ei(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,n=Re("div");n.setAttribute("part","ripple"),n.setAttribute("class","ripple click-ripple"),n.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.#M.ripples.append(n);let o=n.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await o.finished;let h=n.animate({opacity:[getComputedStyle(n).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(await h.finished,n.remove(),0===this.#M.ripples.childElementCount){for(let t of this.#Xe)t();this.#Xe=[]}}}else if("blink"===t){this.#Ve=!0,this.#Ze?(this.parentElement.focus(),await ve(150),this.focus(),await ve(150)):(this.focus(),await ve(150),this.parentElement.focus(),await ve(150));for(let t of this.#Xe)t();this.#Xe=[],this.#Ve=!1}else if("none"===t){this.#Ve=!0,await ve(50);for(let t of this.#Xe)t();this.#Xe=[],this.#Ve=!1}}}}#bt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.querySelector("x-menu")||(t.stopPropagation(),this.click()))}}customElements.define("x-menuitem",ii);class si extends HTMLElement{static observedAttributes=["opened","size"];static#A=St`<template><slot></slot></template>`;static#L=Et`:host{display:none;position:fixed;min-width:15px;min-height:15px;bottom:15px;left:50%;transform:translateX(-50%);padding:5px 12px;box-sizing:border-box;color:rgba(255,255,255,.9);background:#434343;z-index:9999;font-size:12px;user-select:text;transition:transform .15s cubic-bezier(.4, 0, .2, 1)}:host([animating]),:host([opened]){display:block}:host(:focus){outline:0}`;get opened(){return this.hasAttribute("opened")}set opened(t){!0===t?this.setAttribute("opened",""):this.removeAttribute("opened"),this.#_e=0}get timeout(){return this.hasAttribute("timeout")?parseFloat(this.getAttribute("timeout")):0}set timeout(t){this.setAttribute("timeout",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#_e=0;#We=null;#D=null;#Je=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[si.#L],this.#T.append(document.importNode(si.#A.content,!0))}connectedCallback(){this.setAttribute("tabindex","0"),this.#F(),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t,e,i){e!==i&&("opened"===t?this.opened?this.#Qe():this.#ti():"size"===t&&this.#F())}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#Qe(){if(this.isConnected){let t=0-this.getBoundingClientRect().height-10+"px",e=getComputedStyle(this).bottom;this.animate({bottom:[t,e]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"})}{this.#_e=0,this.#We=setInterval((()=>{this.#_e+=100,this.timeout>0&&this.#_e>this.timeout&&(this.opened=!1)}),100);let t=ye();window.addEventListener("pointerdown",this.#Je=e=>{let i=ye(),s=this.getBoundingClientRect();var n,o;i-t>10&&!1==(n=s,(o=new DOMPoint(e.clientX,e.clientY)).x>=n.x&&o.x<=n.x+n.width&&o.y>=n.y&&o.y<=n.y+n.height)&&(this.opened=!1)},!0)}}async#ti(){if(clearInterval(this.#We),this.isConnected){this.setAttribute("animating","");let t=getComputedStyle(this).bottom,e=0-this.getBoundingClientRect().height-10+"px",i=this.animate({bottom:[t,e]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await i.finished,this.removeAttribute("animating")}window.removeEventListener("pointerdown",this.#Je,!0)}}customElements.define("x-notification",si);let{isFinite:ni}=Number;const oi=["0","1","2","3","4","5","6","7","8","9","-","+",",","."];class hi extends HTMLElement{static observedAttributes=["value","min","max","prefix","suffix","disabled","size"];static#A=St`<template><main id="main"><div id="editor-container"><div id="editor" contenteditable="plaintext-only" spellcheck="false"></div></div><slot></slot></main></template>`;static#L=Et`:host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}#main{display:flex;align-items:center;height:100%}#editor-container{display:flex;align-items:center;width:100%;height:100%;padding:0 6px;box-sizing:border-box;overflow:hidden}#editor{width:100%;overflow:auto;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;line-height:10;white-space:nowrap}#editor::-webkit-scrollbar{display:none}#editor::before{content:attr(data-prefix);pointer-events:none}#editor::after{content:attr(data-suffix);pointer-events:none}:host(:focus) #editor::after,:host(:focus) #editor::before,:host([empty]) #editor::after,:host([empty]) #editor::before{content:""}`;get value(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get min(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):-Infinity}set min(t){ni(t)?this.setAttribute("min",t):this.removeAttribute("min")}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):Infinity}set max(t){ni(t)?this.setAttribute("max",t):this.removeAttribute("max")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get precision(){return this.hasAttribute("precision")?parseFloat(this.getAttribute("precision")):20}set precision(t){this.setAttribute("precision",t)}get step(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1}set step(t){this.setAttribute("step",t)}get prefix(){return this.hasAttribute("prefix")?this.getAttribute("prefix"):""}set prefix(t){this.setAttribute("prefix",t)}get suffix(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):""}set suffix(t){this.setAttribute("suffix",t)}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get condensed(){return this.hasAttribute("condensed")}set condensed(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#ct=0;#D=null;#ei=!1;#ii=!1;#si=!1;#ni=!1;#oi=!1;constructor(){super(),this.#T=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#T.adoptedStyleSheets=[hi.#L],this.#T.append(document.importNode(hi.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.#T.addEventListener("pointerdown",(t=>this.#hi(t))),this.#T.addEventListener("wheel",(t=>this.#Se(t))),this.#M.editor.addEventListener("paste",(t=>this.#ri(t))),this.#M.editor.addEventListener("input",(t=>this.#ai(t))),this.addEventListener("pointerdown",(t=>this.#pt(t))),this.addEventListener("pointerenter",(()=>this.#mt())),this.addEventListener("pointerleave",(()=>this.#gt())),this.addEventListener("keydown",(t=>this.#bt(t))),this.addEventListener("keyup",(t=>this.#li(t))),this.addEventListener("keypress",(t=>this.#di(t))),this.addEventListener("incrementstart",(t=>this.#ui(t))),this.addEventListener("decrementstart",(t=>this.#ci(t))),this.addEventListener("focusin",(t=>this.#te(t))),this.addEventListener("focusout",(t=>this.#ee(t)))}connectedCallback(){this.#xt(),this.#F(),this.#J(),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t){"value"===t?this.#Q():"min"===t?this.#pi():"max"===t?this.#mi():"prefix"===t?this.#gi():"suffix"===t?this.#bi():"disabled"===t?this.#Ot():"size"===t&&this.#tt()}#fi(t=!1){let e=this.value,i=this.value;i+=t?10*this.step:this.step,i=r(i,this.min,this.max,a(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.#xi()}#wi(t=!1){let e=this.value,i=this.value;i-=t?10*this.step:this.step,i=r(i,this.min,this.max,a(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.#xi()}#vi(){this.#ii||(this.#ii=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})))}#yi=ze((()=>{!this.#ii||this.#si||this.#ni||this.#oi||(this.#ii=!1,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})))}),500);#ki(){let t=this.#M.editor.textContent,e=""===t.trim()?null:parseFloat(t),i=r(e,this.min,this.max);i!==this.value?(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=i,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))):e!==this.value&&(this.value=i)}#J(){this.#zi(),this.#xi(),this.#Ci()}#zi(){this.hasAttribute("value")?this.#M.editor.textContent=this.getAttribute("value").trim():this.#M.editor.textContent=""}#xi(){let t=null;if(this.matches(":focus")){let e=this.#M.editor.textContent;t=""===e.trim()?null:parseFloat(e)}else t=this.value;null===t?this.setAttribute("empty",""):this.removeAttribute("empty")}#Ci(){let t=this.querySelector("x-stepper");if(t){let e=this.value>this.min,i=this.value<this.max;!0===i&&!0===e?t.removeAttribute("disabled"):!1===i&&!1===e?t.setAttribute("disabled",""):!1===i?t.setAttribute("disabled","increment"):!1===e&&t.setAttribute("disabled","decrement")}}#xt(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#ct=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#ct>0?this.#ct:0),this.#ct=0)}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#Q(){this.#J()}#pi(){this.#Ci()}#mi(){this.#Ci()}#gi(){this.#M.editor.setAttribute("data-prefix",this.prefix)}#bi(){this.#M.editor.setAttribute("data-suffix",this.suffix)}#Ot(){this.#M.editor.disabled=this.disabled,this.#xt()}#tt(){this.#F()}#te(){document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#ee(){this.#T.getSelection().collapse(this.#M.main),this.#M.editor.scrollLeft=0,this.#ki(),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}))}#ai(){this.#xi(),this.#Ci()}#Se(t){this.matches(":focus")&&(t.preventDefault(),this.#vi(),t.wheelDeltaX>0||t.wheelDeltaY>0?(this.#fi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):(this.#wi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))),this.#yi())}#I(t){t.preventDefault()}#pt(t){"x-stepper"===t.target.localName&&t.preventDefault()}#hi(t){if(t.buttons>1||!1===t.isPrimary)t.preventDefault();else if(t.target===this.#M.editor&&!1===this.#M.editor.matches(":focus")){t.preventDefault();let e,i,s=this.value,n=t.clientX,o=new DOMPoint(t.clientX,t.clientY);this.style.cursor="col-resize",this.#M.editor.setPointerCapture(t.pointerId),this.#M.editor.addEventListener("pointermove",e=e=>{let i=new DOMPoint(e.clientX,e.clientY),h=e.timeStamp-t.timeStamp,d=e.clientX!==n,u=l(o,i)>3||h>80;if(n=e.clientX,d&&u&&e.isPrimary){!1===this.#ei&&(this.#ei=!0,this.#ii=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));let i=e.clientX-t.clientX,n=s+i*this.step;n=r(n,this.min,this.max,a(this.step)),this.value=n,this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}),this.#M.editor.addEventListener("pointerup",i=()=>{this.#M.editor.removeEventListener("pointermove",e),this.#M.editor.removeEventListener("pointerup",i),this.style.cursor=null,!0===this.#ei?(this.#ei=!1,this.#ii=!1,this.dispatchEvent(new CustomEvent("changeend",{detail:this.value!==s,bubbles:!0}))):(this.#M.editor.focus(),document.execCommand("selectAll"))})}}#mt(){let t=this.querySelector(":scope > x-tooltip");t&&!1===t.disabled&&t.open(this)}#gt(){let t=this.querySelector(":scope > x-tooltip");t&&t.close()}#ui(t){let e,i;this.matches(":focus")&&this.#ki(),this.#oi=!0,this.addEventListener("increment",e=t=>{this.#vi(),this.#fi(t.detail.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#yi(),this.#J()}),this.addEventListener("incrementend",i=t=>{this.#oi=!1,this.removeEventListener("increment",e),this.removeEventListener("incrementend",i)})}#ci(t){let e,i;this.matches(":focus")&&this.#ki(),this.#oi=!0,this.addEventListener("decrement",e=t=>{this.#vi(),this.#wi(t.detail.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#yi(),this.#J()}),this.addEventListener("decrementend",i=t=>{this.#oi=!1,this.removeEventListener("decrement",e),this.removeEventListener("decrementend",i)})}#bt(t){"ArrowDown"===t.code?(t.preventDefault(),this.#si=!0,this.#vi(),this.#wi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#yi(),this.#J()):"ArrowUp"===t.code?(t.preventDefault(),this.#si=!0,this.#vi(),this.#fi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#yi(),this.#J()):"Backspace"===t.code?this.#ni=!0:"Enter"===t.code&&(this.#ki(),document.execCommand("selectAll"))}#li(t){"ArrowDown"===t.code||"ArrowUp"===t.code?(this.#si=!1,this.#yi()):"Backspace"===t.code&&(this.#ni=!1)}#di(t){!1===oi.includes(t.key)&&t.preventDefault()}async#ri(t){t.preventDefault();let e=t.clipboardData.getData("text/plain").trim();(t=>{let e=Ye(t);return!1===Ge(e)&&Ze(e)})(e)&&(await ve(1),document.execCommand("insertText",!1,e))}}customElements.define("x-numberinput",hi);class ri extends HTMLElement{static observedAttributes=["modal"];static#A=St`<template><svg id="arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="arrow-path"></path></svg><slot id="slot"></slot></template>`;static#L=Et`:host{position:fixed;display:none;top:0;left:0;min-height:30px;z-index:1001;box-sizing:border-box;background:#fff;-webkit-app-region:no-drag;--align:bottom;--arrow-size:20px;--open-transition:900 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host(:focus){outline:0}:host([animating]),:host([opened]){display:flex}#arrow{position:fixed;box-sizing:border-box;content:""}#arrow[data-align=bottom],#arrow[data-align=top]{width:var(--arrow-size);height:calc(var(--arrow-size) * .6);transform:translate(-50%,0)}#arrow[data-align=left],#arrow[data-align=right]{width:calc(var(--arrow-size) * .6);height:var(--arrow-size);transform:translate(0,-50%)}#arrow path{stroke-width:1;vector-effect:non-scaling-stroke}#arrow[data-align=bottom] path{d:path("M 0 100, L 50 0, L 100 100")}#arrow[data-align=top] path{d:path("M 0 0, L 50 100, L 100 0")}#arrow[data-align=left] path{d:path("M 0 0, L 100 50, L 00 100")}#arrow[data-align=right] path{d:path("M 100 0, L 0 50, L 100 100")}#slot{border-radius:inherit}`;get opened(){return this.hasAttribute("opened")}get modal(){return this.hasAttribute("modal")}set modal(t){t?this.setAttribute("modal",""):this.removeAttribute("modal")}#T=null;#M={};#Si=null;#Ei=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[ri.#L],this.#T.append(document.importNode(ri.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.#M.backdrop=Re("x-backdrop"),this.#M.backdrop.style.background="rgba(0, 0, 0, 0)",this.#M.backdrop.ownerElement=this,this.#M.backdrop.addEventListener("click",(t=>{t.preventDefault()})),this.#M.backdrop.addEventListener("pointerdown",(t=>{this.hasAttribute("animating")&&t.stopPropagation()}))}connectedCallback(){this.tabIndex=-1}attributeChangedCallback(t,e,i){e!==i&&"modal"===t&&(this.modal&&this.opened?this.#M.backdrop.show():this.#M.backdrop.hide())}open(t,e=!0){return new Promise((async i=>{if(!1===this.opened){if(this.modal&&this.#M.backdrop.show(!1),this.setAttribute("opened",""),this.#Ai(),this.#Li(t),this.#Si=Ie(this),this.#Si&&this.#Si.addEventListener("scroll",this.#Ei=()=>{this.close()},{once:!0}),e){let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=We(t);"transform"===e&&await this.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["0 0","0 0"]},{duration:i,easing:s}).finished}this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this}))}i()}))}close(t=!0){return new Promise((async e=>{if(!0===this.opened&&(this.removeAttribute("opened"),this.#M.backdrop.hide(),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this})),this.#Si.removeEventListener("scroll",this.#Ei),t)){let t=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=We(t);this.setAttribute("animating",""),"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished,this.removeAttribute("animating")}e()}))}#Li(t){let e=getComputedStyle(this).getPropertyValue("--align").trim(),i=parseInt(getComputedStyle(this).borderWidth),s=0,n=0,o=null;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";{let e=h(this.getBoundingClientRect());0===e.top&&0===e.left||(s=-e.left,n=-e.top),o=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect}if("bottom"===e||"top"===e){let t=(t=!1)=>{this.style.maxHeight=null,this.#M.arrow.setAttribute("data-align","bottom");let e=h(this.getBoundingClientRect()),s=h(this.#M.arrow.getBoundingClientRect()),r=0;if(this.#M.arrow.style.top=n+o.bottom+2+i+"px",this.style.top=n+o.bottom+2+s.height+"px",e=h(this.getBoundingClientRect()),r=e.bottom+8-window.innerHeight,t&&r>0){let t=e.height-r;r=0,this.style.maxHeight=t+"px"}return r},r=(t=!1)=>{this.style.maxHeight=null,this.#M.arrow.setAttribute("data-align","top");let e=h(this.getBoundingClientRect()),s=h(this.#M.arrow.getBoundingClientRect()),r=0;if(this.#M.arrow.style.top=Math.floor(n+o.top-2-i-s.height)+"px",this.style.top=n+o.top-2-s.height-e.height+"px",e=h(this.getBoundingClientRect()),r=-(e.top-8),t&&r>0){let t=e.height-r;r=0,this.style.maxHeight=t+"px",this.style.top=n+o.top-2-s.height-t+"px"}return r},a=()=>{this.style.maxWidth=null;let t=h(this.getBoundingClientRect()),e=0,i=0;return this.#M.arrow.style.left=s+o.left+o.width/2+"px",this.style.left=s+o.left+o.width/2-t.width/2+"px",t=h(this.getBoundingClientRect()),e=-(t.left-8),i=t.right+8-window.innerWidth,[e,i]},l=(t=!1)=>{this.style.maxWidth=null;let e=h(this.getBoundingClientRect()),i=0;if(this.#M.arrow.style.left=s+o.left+o.width/2+"px",this.style.left=s+window.innerWidth-8-e.width+"px",e=h(this.getBoundingClientRect()),i=-(e.left-8),t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px",this.style.left=s+window.innerWidth-8-t+"px"}return i},d=(t=!1)=>{this.style.maxWidth=null;let e=h(this.getBoundingClientRect()),i=0;if(this.#M.arrow.style.left=s+o.left+o.width/2+"px",this.style.left=s+8+"px",e=h(this.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px"}return i};if("bottom"===e){let e=t();if(e>0){let i=r();i>0&&(i>e?t(!0):r(!0))}}else if("top"===e){let e=r();if(e>0){let i=t();i>0&&(i>e?r(!0):t(!0))}}{let[t,e]=a();e>0?(t=l(),t>0&&l(!0)):t>0&&(e=d(),e>0&&d(!0))}}else if("right"===e||"left"===e){let t=(t=!1)=>{this.style.maxWidth=null,this.#M.arrow.setAttribute("data-align","right");let e=h(this.getBoundingClientRect()),n=h(this.#M.arrow.getBoundingClientRect()),r=0;if(this.#M.arrow.style.left=s+o.right+2+i+"px",this.style.left=s+o.right+2+n.width+"px",e=h(this.getBoundingClientRect()),r=e.right+8-window.innerWidth,t&&r>0){let t=e.width-r;r=0,this.style.maxWidth=t+"px"}return r},r=(t=!1)=>{this.style.maxWidth=null,this.#M.arrow.setAttribute("data-align","left");let e=h(this.getBoundingClientRect()),n=h(this.#M.arrow.getBoundingClientRect()),r=0;if(this.#M.arrow.style.left=s+o.left-2-i-n.width+"px",this.style.left=s+o.left-2-n.width-e.width+"px",e=h(this.getBoundingClientRect()),r=-(e.left-8),t&&r>0){let t=e.width-r;r=0,this.style.maxWidth=t+"px",this.style.left=s+o.left-2-n.width-t+"px"}return r},a=()=>{this.style.maxHeight=null;let t=h(this.getBoundingClientRect()),e=0,i=0;return this.#M.arrow.style.top=n+o.top+o.height/2+"px",this.style.top=n+o.top+o.height/2-t.height/2+"px",t=h(this.getBoundingClientRect()),e=-(t.top-8),i=t.bottom+8-window.innerHeight,[e,i]},l=(t=!1)=>{this.style.maxHeight=null;let e=h(this.getBoundingClientRect()),i=0;if(this.#M.arrow.style.top=n+o.top+o.height/2+"px",this.style.top=n+window.innerHeight-8-e.height+"px",e=h(this.getBoundingClientRect()),i=-(e.top-8),t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px",this.style.top=n+window.innerHeight-8-t+"px"}return i},d=(t=!1)=>{this.style.maxHeight=null;let e=h(this.getBoundingClientRect()),i=0;if(this.#M.arrow.style.top=n+o.top+o.height/2+"px",this.style.top=n+8+"px",e=h(this.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px"}return i};if("right"===e){let e=t();if(e>0){let i=r();i>0&&(i>e?t(!0):r(!0))}}else if("left"===e){let e=r();if(e>0){let i=t();i>0&&(i>e?r(!0):t(!0))}}{let[t,e]=a();e>0?(t=l(),t>0&&l(!0)):t>0&&(e=d(),e>0&&d(!0))}}}#Ai(){{let{backgroundColor:t,borderColor:e,borderWidth:i}=getComputedStyle(this);this.#M["arrow-path"].style.fill=t,this.#M["arrow-path"].style.stroke=e,this.#M["arrow-path"].style.strokeWidth=i}}}customElements.define("x-popover",ri);class ai extends HTMLElement{static observedAttributes=["value","max","disabled","size"];static#A=St`<template><div id="determinate-bar" part="bar"></div><div id="indeterminate-bars"><div id="primary-indeterminate-bar" part="bar"></div><div id="secondary-indeterminate-bar" part="bar"></div></div></template>`;static#L=Et`:host{display:block;box-sizing:border-box;height:8px;width:100%;position:relative;contain:strict;overflow:hidden;background:#acece6;cursor:default}:host([hidden]){display:none}#indeterminate-bars{width:100%;height:100%}#determinate-bar{position:absolute;top:0;left:0;bottom:0;width:0%;height:100%;background:#3b99fb;box-shadow:0 0 0 1px #3385db;transition:width .4s ease-in-out;will-change:left,right}:host([value="-1"]) #determinate-bar{visibility:hidden}#primary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}#secondary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}`;get value(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):1}set max(t){this.setAttribute("max",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#Mi=null;#D=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[ai.#L],this.#T.append(document.importNode(ai.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t}connectedCallback(){Ce.addEventListener("sizechange",this.#D=()=>this.#F()),this.#J(),this.#F()}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t,e,i){e!==i&&("value"===t||"disabled"===t?this.#J():"size"===t&&this.#F())}#J(){if(null===this.value||-1===this.value||this.disabled?this.#M["determinate-bar"].style.width="0%":this.#M["determinate-bar"].style.width=this.value/this.max*100+"%",null!==this.value||this.disabled){if(this.#Mi){for(let t of this.#Mi)t.cancel();this.#Mi=null}}else this.#Mi||(this.#Mi=[this.#M["primary-indeterminate-bar"].animate([{left:"-35%",right:"100%",offset:0},{left:"100%",right:"-90%",offset:.6},{left:"100%",right:"-90%",offset:1}],{duration:2e3,easing:"ease-in-out",iterations:Infinity}),this.#M["secondary-indeterminate-bar"].animate([{left:"-100%",right:"100%",offset:0},{left:"110%",right:"-30%",offset:.8},{left:"110%",right:"-30%",offset:1}],{duration:2e3,delay:1e3,easing:"ease-in-out",iterations:Infinity})])}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-progressbar",ai);class li extends HTMLElement{static observedAttributes=["toggled","disabled","size"];static#A=St`<template><main id="main"><div id="indicator" part="indicator"><div id="indicator-dot" part="indicator-dot"></div></div><div id="description"><slot></slot></div></main></template>`;static#L=Et`:host{display:block;position:relative;width:fit-content}:host(:focus){outline:0}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}#main{display:flex;align-items:center}#indicator{position:relative;border:3px solid #000;width:19px;height:19px;border-radius:99px;display:flex;align-items:center;justify-content:center}#indicator-dot{width:100%;height:100%;background:currentColor;border-radius:99px;transform:scale(0)}:host([mixed][toggled]) #indicator-dot{height:33%;border-radius:0}:host([toggled]) #indicator-dot{transform:scale(.5)}#description{flex:1}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#ct=0;#D=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[li.#L],this.#T.append(document.importNode(li.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.addEventListener("click",(t=>this.#I(t))),this.addEventListener("pointerdown",(t=>this.#pt(t))),this.addEventListener("keydown",(t=>this.#bt(t)))}connectedCallback(){Ce.addEventListener("sizechange",this.#D=()=>this.#F()),this.#xt(),this.#F()}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t){"toggled"===t?this.#It():"disabled"===t?this.#Ot():"size"===t&&this.#F()}#xt(){this.setAttribute("role","radio"),this.setAttribute("aria-checked",this.toggled),this.setAttribute("aria-disabled",this.disabled),this.closest("x-radios")||(this.disabled?(this.#ct=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#ct>0?this.#ct:0),this.#ct=0))}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#It(){this.setAttribute("aria-checked",this.toggled)}#Ot(){this.#xt()}#I(t){this.closest("x-radios")||(this.toggled&&this.mixed?this.mixed=!1:(this.mixed=!1,this.toggled=!this.toggled),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})))}#pt(t){if(!1===this.matches(":focus")){t.preventDefault();let e=Pe(this.parentNode,"[tabindex]");e&&e.focus()}}#bt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-radio",li);class di extends HTMLElement{get value(){let t=this.querySelector("x-radio[toggled]");return t?t.value:null}set value(t){for(let e of this.querySelectorAll("x-radio"))e.toggled=e.value===t&&null!==t}#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.innerHTML="<slot></slot>",this.addEventListener("click",(t=>this.#I(t)),!0),this.addEventListener("keydown",(t=>this.#bt(t)))}connectedCallback(){this.setAttribute("role","radiogroup");let t=[...this.querySelectorAll("x-radio")].filter((t=>t.closest("x-radios")===this)),e=t.find((t=>t.toggled&&!t.disabled))||t.find((t=>!t.disabled));for(let i of t)i.setAttribute("tabindex",i===e?"0 ":"-1"),i.setAttribute("aria-checked",i===e)}#I(t){let e=t.target.closest("x-radio");if(e&&!e.toggled&&!e.disabled&&t.buttons<=1){let t=[...this.querySelectorAll("x-radio")].filter((t=>t.closest("x-radios")===this&&t!==e));if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1,e.tabIndex=0;for(let e of t)e.toggled=!1,e.tabIndex=-1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}}}#bt(t){let{key:e}=t;if("ArrowDown"===e||"ArrowRight"===e){let e=[...this.querySelectorAll("x-radio")],i=e.filter((t=>!1===t.disabled&&t.closest("x-radios")===this)),s=e.find((t=>t.matches(":focus")));if(s){let e=i.indexOf(s),n=i.length>1?i[e+1]||i[0]:null;n&&(t.preventDefault(),n.focus(),n.tabIndex=0,s.tabIndex=-1)}}else if("ArrowUp"===e||"ArrowLeft"===e){let e=[...this.querySelectorAll("x-radio")],i=e.filter((t=>!1===t.disabled&&t.closest("x-radios")===this)),s=e.find((t=>t.matches(":focus")));if(s){let e=i.indexOf(s),n=i[i.length-1],o=i.length>1?i[e-1]||n:null;o&&(t.preventDefault(),o.focus(),o.tabIndex=0,s.tabIndex=-1)}}}}customElements.define("x-radios",di);class ui extends HTMLElement{static observedAttributes=["value","size"];static#A=St`<template><x-box vertical><div id="hue-slider" part="slider"><div id="hue-slider-track"><div id="hue-slider-marker"></div></div></div><div id="satlight-slider" part="slider"><div id="satlight-marker"></div></div><div id="alpha-slider" part="slider"><div id="alpha-slider-gradient"></div><div id="alpha-slider-track"><div id="alpha-slider-marker"></div></div></div></x-box></template>`;static#L=Et`:host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);margin-bottom:14px;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background:red}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#satlight-slider{width:100%;height:174px;border-radius:2px;position:relative;touch-action:pinch-zoom}#satlight-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#D=null;#H=0;#j=0;#Ti=100;#q=1;#K=!1;#$i=!1;#Z=!1;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[ui.#L],this.#T.append(document.importNode(ui.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.#M["hue-slider"].addEventListener("pointerdown",(t=>this.#G(t))),this.#M["satlight-slider"].addEventListener("pointerdown",(t=>this.#Di(t))),this.#M["alpha-slider"].addEventListener("pointerdown",(t=>this.#W(t)))}connectedCallback(){this.#J(),this.#F(),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.#Q():"size"===t&&this.#tt())}#J(){this.#et(),this.#Ri(),this.#Pi(),this.#ht(),this.#rt()}#et(){this.#M["hue-slider-marker"].style.left=r(this.#H,0,360,0)/360*100+"%"}#Ri(){let t=this.#j/100*100,e=100-this.#Ti/100*100;this.#M["satlight-marker"].style.left=`${t}%`,this.#M["satlight-marker"].style.top=`${e}%`}#Pi(){let t=v([this.#H,100,50,1],"hsla","hex");this.#M["satlight-slider"].style.background=`linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1)), linear-gradient(to left, rgba(255,255,255,0), rgba(255,255,255,1)), ${t}`}#ht(){this.#M["alpha-slider-marker"].style.left=r(100*(1-this.#q),0,100,2)+"%"}#rt(){let[t,e,i]=w(this.#H,this.#j,this.#Ti).map((t=>o(t,0)));this.#M["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, rgba(${t}, ${e}, ${i}, 1), rgba(${t}, ${e}, ${i}, 0))\n    `}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#Q(){if(!1===this.#K&&!1===this.#$i&&!1===this.#Z){let[t,e,i,s]=(new E).parse(this.value,"hsva");this.#H=t,this.#j=e,this.#Ti=i,this.#q=s,this.#J()}}#tt(){this.#F()}#Di(t){if(t.buttons>1)return;let e,i,s=this.#M["satlight-slider"].getBoundingClientRect();this.#$i=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.#M["satlight-slider"].setPointerCapture(t.pointerId);let n=(t,e)=>{let i=(t-s.left)/s.width*100,n=(e-s.top)/s.height*100;i=r(i,0,100,2),n=r(n,0,100,2),this.#j=i,this.#Ti=100-n,this.value=v([this.#H,this.#j,this.#Ti,this.#q],"hsva","hsla"),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#Ri(),this.#Pi(),this.#rt()};n(t.clientX,t.clientY),this.#M["satlight-slider"].addEventListener("pointermove",e=t=>{n(t.clientX,t.clientY)}),this.#M["satlight-slider"].addEventListener("pointerup",i=t=>{this.#M["satlight-slider"].removeEventListener("pointermove",e),this.#M["satlight-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#$i=!1})}#G(t){if(t.buttons>1)return;let e,i,s=this.#M["hue-slider-track"].getBoundingClientRect();this.#K=!0,this.#M["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width*360;e=r(e,0,360,0),e!==this.#H&&(this.#H=e,this.value=v([this.#H,this.#j,this.#Ti,this.#q],"hsva","hsla"),this.#et(),this.#Pi(),this.#Ri(),this.#rt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#M["hue-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#M["hue-slider"].addEventListener("pointerup",i=()=>{this.#M["hue-slider"].removeEventListener("pointermove",e),this.#M["hue-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#K=!1})}#W(t){if(t.buttons>1)return;let e,i,s=this.#M["alpha-slider-track"].getBoundingClientRect();this.#Z=!0,this.#M["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=1-(t-s.x)/s.width;e=r(e,0,1,2),e!==this.#q&&(this.#q=e,this.value=v([this.#H,this.#j,this.#Ti,this.#q],"hsva","hsla"),this.#ht(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#M["alpha-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#M["alpha-slider"].addEventListener("pointerup",i=()=>{this.#M["alpha-slider"].removeEventListener("pointermove",e),this.#M["alpha-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Z=!1})}}customElements.define("x-rectcolorpicker",ui);let ci=Symbol();class pi extends HTMLElement{static observedAttributes=["disabled","size"];static#A=St`<template><div id="button"><div id="arrow-container"><svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path></path></svg></div></div><slot></slot></template>`;static#L=Et`:host{display:block;width:fit-content;height:32px;padding:0 0 0 9px;max-width:100%;box-sizing:border-box;position:relative;outline:0;font-size:14px;user-select:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}:host(:hover){cursor:default}#button{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;flex:1;width:100%;height:100%}:host([mixed]) #button>*{opacity:.7}#button>x-label{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}#button>#arrow-container{margin:0 0 0 auto;z-index:999}#button>#arrow-container #arrow{display:flex;width:13px;height:13px;min-width:13px;margin:0 2px 0 11px;color:currentColor;d:path("M 25 41 L 50 16 L 75 41 L 83 34 L 50 1 L 17 34 Z M 17 66 L 50 100 L 83 66 L 75 59 L 50 84 L 25 59 Z")}#button>#arrow-container #arrow path{fill:currentColor;d:inherit}`;get value(){let t=this.querySelector("x-menuitem[toggled]");return t?t.value:null}set value(t){for(let e of this.querySelectorAll("x-menuitem"))e.toggled=e.value===t&&null!==t}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#ct=0;#dt=!1;#Ii=null;#Oi=null;#D=null;#Fi=new MutationObserver((t=>this.#Bi(t)));#$=new ResizeObserver((()=>this.#Ni()));constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[pi.#L],this.#T.append(document.importNode(pi.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.#M.backdrop=Re("x-backdrop"),this.#M.backdrop.style.opacity="0",this.#M.backdrop.ownerElement=this,this.#M.backdrop.addEventListener("click",(t=>this.#Hi(t))),this.addEventListener("pointerdown",(t=>this.#pt(t))),this.addEventListener("toggle",(t=>this.#ji(t))),this.addEventListener("click",(t=>this.#I(t))),this.addEventListener("keydown",(t=>this.#bt(t)))}connectedCallback(){this.#Fi.observe(this,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this.#$.observe(this),this.#Ui(),this.#xt(),this.#F(),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){this.#Fi.disconnect(),this.#$.disconnect(),Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t){"disabled"===t?this.#xt():"size"===t&&this.#F()}#jt(){if(!1===this.#qi())return;this.#dt=this.matches(":focus"),this.#M.backdrop.show(!1),window.addEventListener("resize",this.#Ii=()=>{this.#Ut()}),window.addEventListener("blur",this.#Oi=()=>{this.#Ut()});let t=this.querySelector(":scope > x-menu");{let e=null;for(let i of t.querySelectorAll("x-menuitem"))i.togglable=!0,i.toggled&&(null===e?e=i:i.toggled=!1)}if(t.querySelector("x-menuitem[toggled]")){let e=this.#M.button.querySelector("x-label")||this.#M.button.firstElementChild,i=e[ci];t.openOverElement(e,i)}else{let e=t.querySelector("x-menuitem").firstElementChild;t.openOverElement(this.#M.button,e)}{let e=t.getBoundingClientRect(),i=this.#M.button.getBoundingClientRect(),s=parseFloat(getComputedStyle(this).paddingRight);e.right-s<i.right&&(t.style.minWidth=i.right-e.left+s+"px")}{let t=this.getBoundingClientRect();t.right+7>window.innerWidth&&(this.style.maxWidth=window.innerWidth-t.left-7+"px")}}async#Ut(t=null){if(!1===this.#Ki())return;let e=this.querySelector(":scope > x-menu");if(e.setAttribute("closing",""),await t,this.#M.backdrop.hide(!1),this.#dt)this.focus();else{let t=Pe(this.parentNode,"[tabindex]");t&&t.focus()}window.removeEventListener("resize",this.#Ii),window.removeEventListener("blur",this.#Oi),await e.close(),e.removeAttribute("closing")}#qi(){if(this.disabled)return!1;{let t=this.querySelector(":scope > x-menu"),e=t.querySelector("x-menuitem");return null!==t&&!1===t.opened&&!1===t.hasAttribute("closing")&&null!==e}}#Ki(){if(this.disabled)return!1;{let t=this.querySelector(":scope > x-menu");return t.querySelector("x-menuitem"),null!==t&&!0===t.opened&&!1===t.hasAttribute("closing")}}#Ui(){let t=this.querySelector(":scope > x-menu x-menuitem[toggled]");if(this.#M.button.innerHTML="",t){for(let e of t.children){let t=e.cloneNode(!0);t[ci]=e,t.removeAttribute("id"),t.removeAttribute("style"),this.#M.button.append(t)}this.#Vi()}this.#M.button.append(this.#M["arrow-container"])}#Xi=ke(this.#Ui,300,this);#Vi(){for(let t of this.#M.button.children)if(t!==this.#M["arrow-container"]){let{width:e,height:i,margin:s,padding:n,border:o,borderRadius:h}=getComputedStyle(t[ci]);["x-icon","x-swatch","img","svg"].includes(t[ci].localName)&&(t.style.width=e,t.style.height=i,t.style.minWidth=e,t.style.borderRadius=h),t.style.margin=s,t.style.padding=n,t.style.border=o}}#xt(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#ct=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#ct>0?this.#ct:0),this.#ct=0);{this.setAttribute("role","button");let t=this.querySelector(":scope > x-menu");if(t){t.setAttribute("role","listbox");for(let e of t.querySelectorAll("x-menuitem"))e.setAttribute("role","option")}}}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#Bi(t){for(let e of t)"attributes"===e.type&&"x-menuitem"===e.target.localName&&"toggled"===e.attributeName&&this.#Xi()}#Ni(){this.#Vi()}#pt(t){t.target.closest("x-menu")||!1!==this.matches(":focus")||t.preventDefault()}async#I(t){if(!(t.buttons>1))if(this.#qi())this.#jt();else if(this.#Ki()){let e=t.target.closest("x-menuitem");if(e){let t=this.value,i=e.value;for(let t of this.querySelectorAll("x-menuitem"))t.toggled=t===e;await this.#Ut(e.whenTriggerEnd),(t!==i||this.mixed)&&(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{oldValue:t,newValue:i}})))}}}#ji(t){t.preventDefault()}#Hi(t){this.#Ut()}#bt(t){!1===t.defaultPrevented&&(this.querySelector(":scope > x-menu"),"Enter"===t.key||"Space"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key?this.#qi()&&(t.preventDefault(),this.#jt()):"Escape"===t.key&&this.#Ki()&&(t.preventDefault(),this.#Ut()))}}customElements.define("x-select",pi);const mi=navigator.platform.startsWith("Mac")||["iPhone","iPad"].includes(navigator.platform),gi=["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"];class bi extends HTMLElement{static observedAttributes=["value"];static#A=St`<template><main id="main"></main></template>`;static#L=Et`:host{display:inline-block;box-sizing:border-box;font-size:14px;line-height:1}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}`;get value(){let t=[];if(this.hasAttribute("value")){let e=this.getAttribute("value").replace("++","+PLUS").split("+");e=e.map((t=>t.trim().replace("PLUS","+"))).filter((t=>""!==t)),t=e}return t}set value(t){this.setAttribute("value",t.join("+"))}get modKeys(){return this.value.filter((t=>gi.includes(t)))}get normalKey(){let t=this.value.find((t=>!1===gi.includes(t)));return void 0===t?null:t}#T=null;#M={};constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[bi.#L],this.#T.append(document.importNode(bi.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t}attributeChangedCallback(t){"value"===t&&this.#J()}#J(){let t="";this.value;let e=this.modKeys,i=this.normalKey;if(mi){e.includes("Meta")&&(t+="^"),e.includes("Alt")&&(t+="⌥"),e.includes("Shift")&&(t+="⇧"),e.includes("Control")&&(t+="⌘"),e.includes("Symbol")&&(t+="☺");let s={ArrowUp:"↑",ArrowDown:"↓",ArrowLeft:"←",ArrowRight:"→",Backspace:"⌦"};void 0!==i&&(t+=s[i]||i)}else{let s=[];e.includes("Control")&&s.push("Ctrl"),e.includes("Alt")&&s.push("Alt"),e.includes("Meta")&&s.push("Meta"),e.includes("Shift")&&s.push("Shift"),e.includes("Symbol")&&s.push("Symbol");let n={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==i&&s.push(n[i]||i),t=s.join("+")}this.#M.main.textContent=t}}customElements.define("x-shortcut",bi);class fi extends HTMLElement{static observedAttributes=["value","buffer","min","max","size"];static#A=St`<template><main id="main"><div id="tracks-and-thumbs"><div id="groove-track" part="track groove-track"></div><div id="buffer-track" part="track buffer-track"></div><div id="range-track" part="track range-track"></div><div id="thumbs"><div id="start-thumb" class="thumb" part="thumb start-thumb" data-value="start" tabindex="0"></div><div id="end-thumb" class="thumb" part="thumb end-thumb" data-value="end" tabindex="0"></div></div></div><div id="ticks"></div><div id="labels"><slot></slot></div></main></template>`;static#L=Et`:host{display:block;width:100%;position:relative;box-sizing:border-box;touch-action:pan-y}:host(:focus){outline:0}:host(:hover){cursor:default}:host([disabled]){pointer-events:none;opacity:.4}:host([vertical]){width:fit-content;height:200px}#main{display:flex;flex-flow:column;width:100%;height:100%}:host([vertical]) #main{flex-flow:row}#tracks-and-thumbs{position:relative;width:100%;height:100%}#range-track{position:absolute;width:0%;height:4px;background:#000;top:50%;transform:translateY(-50%)}:host([vertical]) #range-track{width:4px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#groove-track{position:absolute;width:100%;height:4px;background:gray;top:50%;transform:translateY(-50%)}:host([vertical]) #groove-track{width:4px;height:100%;top:initial;left:50%;transform:translateX(-50%)}#buffer-track{position:absolute;width:0%;height:4px;background:red;top:50%;transform:translateY(-50%)}:host([vertical]) #buffer-track{width:4px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#thumbs{position:relative;width:calc(100% - var(--computed-thumb-width));height:100%;margin:0 auto}:host([vertical]) #thumbs{height:calc(100% - var(--computed-thumb-height));width:100%;margin:auto 0}#thumbs .thumb{position:absolute;top:0;left:0;width:20px;height:20px;margin-left:calc(var(--computed-thumb-width)/ -2);box-sizing:border-box;background:gray;border:1px solid rgba(0,0,0,.2)}:host([vertical]) #thumbs .thumb{margin-left:0}#thumbs .thumb:first-child{position:relative}#thumbs .thumb:focus{outline:0;z-index:2}#ticks{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #ticks{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}#ticks:empty{display:none}#ticks .tick{position:absolute;left:0;top:0;width:1px;height:5px;background:rgba(0,0,0,.4)}:host([vertical]) #ticks .tick{width:5px;height:1px;left:0;top:0}#ticks .tick:first-child{position:relative}#labels{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #labels{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}:host(:empty) #labels{display:none}::slotted(x-label){display:inline-block;top:0;position:absolute;vertical-align:top;transform:translateX(-50%);white-space:nowrap}:host([vertical]) ::slotted(x-label){top:initial;left:4px;transform:translateY(-50%)}`;get min(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):0}set min(t){this.setAttribute("min",t)}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):100}set max(t){this.setAttribute("max",t)}get value(){if(this.hasAttribute("value")){let t=this.getAttribute("value").split(/[ ,]+/);return t.length>=2?t.map((t=>parseFloat(t))).slice(0,2):parseFloat(t[0])}return this.max>=this.min?this.min+(this.max-this.min)/2:this.min}set value(t){Array.isArray(t)?((t=t.map((t=>r(t,this.min,this.max)))).length=2,this.setAttribute("value",t.join(" "))):(t=r(t,this.min,this.max),this.setAttribute("value",t))}get buffer(){if(this.hasAttribute("buffer")){let t=this.getAttribute("buffer").split(/[ ,]+/);return t.length>=2?t.map((t=>parseFloat(t))).slice(0,2):[0,parseFloat(t[0])]}return[0,0]}set buffer(t){(t=t.map((t=>r(t,this.min,this.max)))).length=2,this.setAttribute("buffer",t.join(" "))}get step(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1}set step(t){this.setAttribute("step",t)}get vertical(){return this.hasAttribute("vertical")}set vertical(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get dragging(){return this.getAttribute("dragging")}#T=null;#M={};#ct=0;#D=null;#Fi=new MutationObserver((t=>this.#Bi(t)));#Zi=new ResizeObserver((()=>this.#Gi()));constructor(){super(),this.#T=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#T.adoptedStyleSheets=[fi.#L],this.#T.append(document.importNode(fi.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.#T.addEventListener("pointerdown",(t=>this.#hi(t))),this.addEventListener("pointerdown",(t=>this.#pt(t))),this.addEventListener("keydown",(t=>this.#bt(t)))}connectedCallback(){this.setAttribute("value",this.value),Ce.addEventListener("sizechange",this.#D=()=>this.#F()),this.#Zi.observe(this.#M["start-thumb"]),this.#Fi.observe(this,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"],characterData:!1}),this.#Yi(),this.#_i(),this.#Wi(),this.#xt(),this.#F()}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D),this.#Zi.unobserve(this.#M["start-thumb"]),this.#Fi.disconnect()}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.#Q():"buffer"===t?this.#Ji():"min"===t?this.#pi():"max"===t?this.#mi():"size"===t&&this.#tt())}#Q(){this.#Yi(),this.#_i()}#Ji(){this.#Yi()}#pi(){this.#Yi(),this.#_i(),this.#Wi()}#mi(){this.#Yi(),this.#_i(),this.#Wi()}#tt(){this.#F()}#Bi(t){for(let e of t){if("attributes"===e.type&&e.target===this)return;this.#Qi()}}#Gi(){let t=this.#M["start-thumb"].getBoundingClientRect();this.#M.main.style.setProperty("--computed-thumb-width",t.width+"px"),this.#M.main.style.setProperty("--computed-thumb-height",t.height+"px")}#pt(t){if(!1===this.matches(":focus")){t.preventDefault();let e=Pe(this.parentNode,"[tabindex]");e&&e.focus()}}#hi(t){if(t.buttons>1||!1===t.isPrimary)return;let e,i,s=null,{width:n,height:h}=this.#M["start-thumb"].getBoundingClientRect(),d=this.#M.main.getBoundingClientRect(),u=!1;if(t.target.matches(".thumb"))s=t.target;else if(!0===this.#M["end-thumb"].hidden)s=this.#M["start-thumb"];else{let e=this.#M["start-thumb"].getBoundingClientRect(),i=this.#M["end-thumb"].getBoundingClientRect(),n=new DOMPoint(e.x+e.width/2,e.y+e.height/2),o=new DOMPoint(i.x+i.width/2,i.y+i.height/2),h=new DOMPoint(t.clientX,t.clientY),r=l(h,n),a=l(h,o);s=r<=a?this.#M["start-thumb"]:this.#M["end-thumb"]}let c=(t,e)=>{let i=0;if(this.vertical){let t=d.y+d.height-h/2-e;t=r(t,0,d.height-h),i=t/(d.height-h)*(this.max-this.min)+this.min}else{let e=t-(d.x+n/2);e=r(e,0,d.width-n),i=e/(d.width-n)*(this.max-this.min)+this.min}var l,c;if(l=i,c=this.step,i=o(o(l/c)*c,a(c)),Array.isArray(this.value)){let[t,e]=this.value;s===this.#M["start-thumb"]?(i>=e&&(i=e),i!==t&&(this.value=[i,e],!1===u&&(u=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))):s===this.#M["end-thumb"]&&(i<=t&&(i=t),i!==e&&(this.value=[t,i],!1===u&&(u=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))))}else this.value!==i&&(this.value=i,!1===u&&(u=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};s.setPointerCapture(t.pointerId),this.setAttribute("dragging",s.dataset.value),c(t.clientX,t.clientY);for(let t of this.#M.thumbs.children)t.style.zIndex=t===s?"1":"0";s.addEventListener("pointermove",e=t=>{t.isPrimary&&c(t.clientX,t.clientY)}),s.addEventListener("pointerup",i=()=>{s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",i),this.removeAttribute("dragging"),u&&this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))})}#bt(t){if("ArrowLeft"===t.code||"ArrowDown"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let e=this.value;if(Array.isArray(this.value)){let[i,s]=this.value;this.#T.activeElement===this.#M["start-thumb"]?t.shiftKey?i-=10*this.step:i-=this.step:this.#T.activeElement===this.#M["end-thumb"]&&(t.shiftKey?s-=10*this.step:s-=this.step,s<=i&&(s=i)),this.value=[i,s],!1===zt(e,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}else t.shiftKey?this.value-=10*this.step:this.value-=this.step,e!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}else if("ArrowRight"===t.code||"ArrowUp"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let e=this.value;if(Array.isArray(this.value)){let[i,s]=this.value;this.#T.activeElement===this.#M["start-thumb"]?(t.shiftKey?i+=10*this.step:i+=this.step,i>=s&&(i=s)):this.#T.activeElement===this.#M["end-thumb"]&&(t.shiftKey?s+=10*this.step:s+=this.step),this.value=[i,s],!1===zt(e,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}else t.shiftKey?this.value+=10*this.step:this.value+=this.step,e!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}}#_i(){if(Array.isArray(this.value)){let[t,e]=this.value;{let e=(t-this.min)/(this.max-this.min)*100;this.vertical?(this.#M["start-thumb"].style.top=100-e+"%",this.#M["start-thumb"].hidden=!1):(this.#M["start-thumb"].style.left=e+"%",this.#M["start-thumb"].hidden=!1)}{let t=(e-this.min)/(this.max-this.min)*100;this.vertical?(this.#M["end-thumb"].style.top=100-t+"%",this.#M["end-thumb"].hidden=!1):(this.#M["end-thumb"].style.left=t+"%",this.#M["end-thumb"].hidden=!1)}}else{let t=(this.value-this.min)/(this.max-this.min)*100;this.vertical?(this.#M["start-thumb"].style.top=100-t+"%",this.#M["start-thumb"].hidden=!1,this.#M["end-thumb"].hidden=!0):(this.#M["start-thumb"].style.left=t+"%",this.#M["start-thumb"].hidden=!1,this.#M["end-thumb"].hidden=!0)}}#Yi(){if(Array.isArray(this.value)){let[t,e]=this.value,i=(t-this.min)/(this.max-this.min)*100,s=(e-this.min)/(this.max-this.min)*100;this.vertical?(this.#M["range-track"].style.bottom=`${i}%`,this.#M["range-track"].style.height=s-i+"%"):(this.#M["range-track"].style.left=`${i}%`,this.#M["range-track"].style.width=s-i+"%")}else{let t=(this.value-this.min)/(this.max-this.min)*100,e=((this.min>0?this.min:0)-this.min)/(this.max-this.min)*100;this.vertical?t>=e?(this.#M["range-track"].style.bottom=`${e}%`,this.#M["range-track"].style.height=t-e+"%"):(this.#M["range-track"].style.bottom=`${t}%`,this.#M["range-track"].style.height=e-t+"%"):t>=e?(this.#M["range-track"].style.left=`${e}%`,this.#M["range-track"].style.width=t-e+"%"):(this.#M["range-track"].style.left=`${t}%`,this.#M["range-track"].style.width=e-t+"%")}{let[t,e]=this.buffer,i=(t-this.min)/(this.max-this.min)*100,s=(e-this.min)/(this.max-this.min)*100;this.vertical?(this.#M["buffer-track"].style.bottom=i+"%",this.#M["buffer-track"].style.height=s-i+"%"):(this.#M["buffer-track"].style.left=i+"%",this.#M["buffer-track"].style.width=s-i+"%")}}async#Wi(){await customElements.whenDefined("x-label"),this.#M.ticks.innerHTML="";for(let t of this.querySelectorAll(":scope > x-label"))this.vertical?t.style.top=100-(t.value-this.min)/(this.max-this.min)*100+"%":t.style.left=(t.value-this.min)/(this.max-this.min)*100+"%",t===this.firstElementChild?t.style.position="relative":t.style.position=null,this.vertical?this.#M.ticks.insertAdjacentHTML("beforeend",`<div class="tick" part="tick" style="top: ${t.style.top}"></div>`):this.#M.ticks.insertAdjacentHTML("beforeend",`<div class="tick" part="tick" style="left: ${t.style.left}"></div>`)}#Qi=ke(this.#Wi,500,this);#xt(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#ct=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#ct>0?this.#ct:0),this.#ct=0)}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-slider",fi);class xi extends HTMLElement{static observedAttributes=["disabled"];static#A=St`<template><div id="decrement-button" part="decrement-button" class="button"><svg id="decrement-arrow" part="decrement-arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="decrement-arrow-path"></path></svg></div><div id="increment-button" part="increment-button" class="button"><svg id="increment-arrow" part="increment-arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="increment-arrow-path"></path></svg></div></template>`;static#L=Et`:host{display:flex;flex-flow:column-reverse;align-items:center;justify-content:center;box-sizing:border-box;height:100%;width:fit-content;color:rgba(0,0,0,.6)}:host(:hover){cursor:default}:host([disabled=""]){opacity:.5;pointer-events:none}.button{display:flex;align-items:center;justify-content:center;width:100%;height:100%;user-select:none;box-sizing:border-box;color:inherit;border-left:none}.button[data-pressed]{color:#fff;background:rgba(0,0,0,.3)}:host([disabled=decrement]) #decrement-button,:host([disabled=increment]) #increment-button{opacity:.3;pointer-events:none}#increment-arrow{width:11px;height:11px;pointer-events:none;d:path("M 24 69 L 50 43 L 76 69 L 69 76 L 50 58 L 31 76 L 24 69 Z" )}#decrement-arrow{width:11px;height:11px;pointer-events:none;d:path("M 24 32 L 50 58 L 76 32 L 69 25 L 50 44 L 31 25 L 24 32 Z" )}#decrement-arrow-path,#increment-arrow-path{d:inherit;fill:currentColor}`;get disabled(){return!!this.hasAttribute("disabled")&&("increment"===this.getAttribute("disabled")?"increment":"decrement"!==this.getAttribute("disabled")||"decrement")}set disabled(t){!0===t?this.setAttribute("disabled",""):!1===t?this.removeAttribute("disabled"):this.setAttribute("disabled",t)}#T=null;#M={};#ts=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[xi.#L],this.#T.append(document.importNode(xi.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.#T.addEventListener("pointerdown",(t=>this.#pt(t)))}connectedCallback(){"x-numberinput"===this.parentElement.localName&&(this.#ts=this.parentElement,this.#ts.setAttribute("hasstepper",""))}disconnectedCallback(){this.#ts&&(null===this.#ts.querySelector(":scope > x-stepper")&&this.#ts.removeAttribute("hasstepper",""),this.#ts=null)}attributeChangedCallback(t){"disabled"===t&&this.#Ot()}#Ot(){this.hasAttribute("disabled")&&(this.removeAttribute("pressed"),this.#M["increment-button"].removeAttribute("data-pressed"),this.#M["decrement-button"].removeAttribute("data-pressed"))}#pt(t){let e=t.target.closest(".button"),i=null;if(e===this.#M["increment-button"]?i="increment":e===this.#M["decrement-button"]&&(i="decrement"),!(t.buttons>1||null===i)){{let s=Date.now();e.setAttribute("data-pressed",""),this.setAttribute("pressed",i),this.setPointerCapture(t.pointerId),this.addEventListener("pointerup",(async t=>{let i=Date.now()-s;i<100&&await ve(100-i),e.removeAttribute("data-pressed"),this.removeAttribute("pressed")}),{once:!0})}{let e=null,s=Date.now(),{shiftKey:n}=t;this.dispatchEvent(new CustomEvent(i+"start",{bubbles:!0})),this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:n}})),this.addEventListener("pointerup",(t=>{clearInterval(e),this.dispatchEvent(new CustomEvent(i+"end",{bubbles:!0}))}),{once:!0}),e=setInterval((()=>{Date.now()-s>500&&this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:n}}))}),100)}}}}customElements.define("x-stepper",xi);class wi extends HTMLElement{static observedAttributes=["value","size"];static#A=St`<template><div id="preview"></div></template>`;static#L=Et`:host{display:block;width:18px;height:18px;cursor:default;box-sizing:border-box;overflow:hidden}#preview{width:100%;height:100%;position:relative}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"white"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#D=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[wi.#L],this.#T.append(document.importNode(wi.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t}connectedCallback(){this.#es(),this.#F(),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t){"value"===t?this.#es():"size"===t&&this.#F()}#es(){this.#M.preview.style.background=this.value}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-swatch",wi);class vi extends HTMLElement{static observedAttributes=["toggled","disabled","size"];static#A=St`<template><main id="main"><div id="indicator" part="indicator"><div id="indicator-track" part="indicator-track"><div id="indicator-thumb" part="indicator-thumb"></div></div></div><div id="description"><slot></slot></div></main></template>`;static#L=Et`:host{display:block;width:fit-content;margin:2px 0}:host([disabled]){opacity:.4;pointer-events:none}#main{display:flex;align-items:center}#indicator{position:relative;width:34px;height:15px;display:flex;align-items:center}#indicator-track{display:flex;align-items:center;width:100%;height:65%;background:currentColor;border-radius:999px}#indicator-thumb{position:absolute;left:0;width:16px;height:16px;background:currentColor;border-radius:999px;transition:left .2s cubic-bezier(.4, 0, .2, 1)}:host([toggled]) #indicator-thumb{left:calc(100% - 16px)}:host([mixed]) #indicator-thumb{left:calc(50% - 16px / 2)}#description{flex:1}`;get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#ct=0;#D=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[vi.#L],this.#T.append(document.importNode(vi.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.addEventListener("pointerdown",(t=>this.#pt(t))),this.addEventListener("click",(t=>this.#I(t))),this.addEventListener("keydown",(t=>this.#bt(t)))}connectedCallback(){Ce.addEventListener("sizechange",this.#D=()=>this.#F()),this.#xt(),this.#F()}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t){"toggled"===t?this.#It():"disabled"===t?this.#Ot():"size"===t&&this.#F()}#xt(){this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#ct=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#ct>0?this.#ct:0),this.#ct=0)}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#It(){this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled)}#Ot(){this.#xt()}#pt(t){if(t.buttons>1)t.preventDefault();else if(!1===this.matches(":focus")){t.preventDefault();let e=Pe(this.parentNode,"[tabindex]");e&&e.focus()}}async#I(t){this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))}#bt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-switch",vi);let{max:yi}=Math;class ki extends HTMLElement{static observedAttributes=["selected","disabled","size"];static#A=St`<template><div id="ripples"></div><div id="selection-indicator" part="selection-indicator"></div><div id="content"><slot></slot></div></template>`;static#L=Et`:host{position:relative;display:flex;align-items:center;justify-content:center;min-height:30px;padding:2px 12px;box-sizing:border-box;cursor:default;user-select:none;box-sizing:border-box;font-size:14px;--trigger-effect:none}:host(:focus){z-index:10;outline:0}#content{display:inherit;flex-flow:inherit;align-items:inherit;z-index:100}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;width:100%;height:0;background:var(--accent-color);position:absolute;bottom:0;left:0}:host([selected]) #selection-indicator{display:block}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):""}set value(t){this.setAttribute("value",t)}get selected(){return this.hasAttribute("selected")}set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#D=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[ki.#L],this.#T.append(document.importNode(ki.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.addEventListener("pointerdown",(t=>this.#pt(t))),this.addEventListener("click",(t=>this.#I(t)))}connectedCallback(){this.#xt(),this.#F(),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t){"selected"===t||"disabled"===t?this.#xt():"size"===t&&this.#F()}animateSelectionIndicator(t){return new Promise((async e=>{if("0px"!==this.#M["selection-indicator"].style.height){let e=this.getBoundingClientRect(),i=t.getBoundingClientRect(),s=this.#M["selection-indicator"].animate([{left:"0px",width:e.width+"px"},{left:i.left-e.left+"px",width:i.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});await s.finished}e()}))}#xt(){this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("tabindex",this.selected?"0":"-1")}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}async#pt(t){if(!1===this.matches(":focus")){t.preventDefault();let e=Pe(this.parentNode,"[tabindex]");e&&e.focus()}if(!(t.buttons>1)){{let e=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("pointerup",(async t=>{if(!0===this.selected){let t=Date.now()-e,i=100;t<i&&await ve(i-t)}this.removeAttribute("pressed")}),{once:!0})}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let e=this.#M.ripples.getBoundingClientRect(),i=1.5*yi(e.width,e.height),s=t.clientY-e.y-i/2,n=t.clientX-e.x-i/2,o=new Promise((t=>this.addEventListener("pointerup",t,{once:!0}))),h=Re("div");h.setAttribute("part","ripple"),h.setAttribute("class","ripple pointer-down-ripple"),h.setAttribute("style",`width: ${i}px; height: ${i}px; top: ${s}px; left: ${n}px;`),this.#M.ripples.append(h),this.setPointerCapture(t.pointerId),h.hidden=!0,await ve(10),h.hidden=!1;let r=h.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await o,await r.finished;let a=getComputedStyle(h).opacity,l=h.animate({opacity:[a,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await l.finished,h.remove()}}}async#I(t){if(null===this.#M.ripples.querySelector(".pointer-down-ripple")){if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=this.#M.ripples.getBoundingClientRect(),e=1.5*yi(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,n=Re("div");n.setAttribute("part","ripple"),n.setAttribute("class","ripple click-ripple"),n.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.#M.ripples.append(n);let o=n.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await o.finished;let h=getComputedStyle(n).opacity,r=n.animate({opacity:[h,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await r.finished,n.remove()}}}}customElements.define("x-tab",ki);class zi extends HTMLElement{static#A=St`<template><slot></slot></template>`;static#L=Et`:host{position:relative;display:flex;margin:0 auto;width:fit-content;max-width:100%;box-sizing:border-box;justify-content:center}::slotted(x-tab){flex:0}`;get value(){let t=this.querySelector("x-tab[selected]");return t?t.value:null}set value(t){let e=[...this.querySelectorAll("x-tab")],i=null===t?null:e.find((e=>e.value===t));for(let t of e)t.selected=t===i}#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[zi.#L],this.#T.append(document.importNode(zi.#A.content,!0)),this.addEventListener("click",(t=>this.#I(t))),this.addEventListener("keydown",(t=>this.#bt(t)))}connectedCallback(){this.setAttribute("role","tablist")}async#I(t){if(!(t.buttons>1)&&t.target.closest("x-tab")){let e=this.querySelectorAll("x-tab"),i=t.target.closest("x-tab"),s=this.querySelector("x-tab[selected]");if(i!==s){s&&await s.animateSelectionIndicator(i);for(let t of e)t.selected=t===i;this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}}#bt(t){if("Enter"===t.code||"Space"===t.code){let e=t.target;e.querySelector("x-label"),t.preventDefault(),e.click()}else if("ArrowLeft"===t.code){let e=[...this.querySelectorAll("x-tab:not([disabled])")],i=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),i&&e.length>0){let t=e.indexOf(i),s=e[t-1]||e[e.length-1];i.tabIndex=-1,s.tabIndex=0,s.focus()}}else if("ArrowRight"===t.code){let e=[...this.querySelectorAll("x-tab:not([disabled])")],i=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),i&&e.length>0){let t=e.indexOf(i),s=e[t+1]||e[0];i.tabIndex=-1,s.tabIndex=0,s.focus()}}}}customElements.define("x-tabs",zi);class Ci extends HTMLElement{static observedAttributes=["disabled","size"];static#A=St`<template><div id="container"><div id="scope" part="scope"><slot id="scope-slot" name="scope"></slot></div><main id="main" part="main"><slot></slot><svg id="remove-button" part="remove-button" viewBox="0 0 100 100"><path id="remove-button-path"></path></svg></main></div></template>`;static#L=Et`:host{display:inline-block;height:25px;box-sizing:border-box;overflow:hidden;color:var(--text-color);border-width:1px;border-style:solid}:host([toggled]){background:gray;color:#fff;outline:0}:host([disabled]){opacity:.5}:host([hidden]){display:none}:host(:focus){outline:0}#container{width:100%;height:100%;display:flex;align-items:center;justify-content:center}#scope{height:100%;padding:0 6px;display:none;align-items:center;justify-content:center;border-right-width:1px;border-right-style:solid}:host([scoped]) #scope{display:flex}#main{height:100%;padding:0 6px;display:flex;align-items:center;justify-content:center}#remove-button{display:none;opacity:.8;width:12px;height:12px;vertical-align:middle;margin-left:4px;d:path("M 25 16 L 50 41 L 75 16 L 84 25 L 59 50 L 84 75 L 75 84 L 50 59 L 25 84 L 16 75 L 41 50 L 16 25 Z");fill:currentColor;color:inherit}:host([removable]) #remove-button{display:block}#remove-button:hover{background:rgba(0,0,0,.1);opacity:1}#remove-button path{d:inherit;fill:inherit;pointer-events:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get removable(){return this.hasAttribute("removable")}set removable(t){t?this.setAttribute("removable",""):this.removeAttribute("removable")}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#D=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Ci.#L],this.#T.append(document.importNode(Ci.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.#M["scope-slot"].addEventListener("slotchange",(()=>this.#is())),this.#M["remove-button"].addEventListener("click",(t=>this.#ss(t)))}connectedCallback(){this.#F(),this.#is(),Ce.addEventListener("sizechange",this.#D=()=>this.#F()),this.closest("x-tags")?(this.tabIndex=0,this.removable=!1):this.closest("x-tagsinput")?(this.toggled=!1,this.tabIndex=0,this.removable=!0):this.removable=!1}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t){"size"===t&&this.#F()}#ss(t){t.buttons<=1&&this.dispatchEvent(new CustomEvent("remove",{bubbles:!0}))}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#is(){0===this.#M["scope-slot"].assignedElements().length?this.removeAttribute("scoped"):this.setAttribute("scoped","")}}customElements.define("x-tag",Ci);class Si extends HTMLElement{static#A=St`<template><slot></slot></template>`;static#L=Et`:host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([hidden]){display:none}`;get value(){return[...this.children].filter((t=>"x-tag"===t.localName)).filter((t=>t.toggled)).map((t=>t.value)).filter((t=>null!==t))}set value(t){let e=[...this.children].filter((t=>"x-tag"===t.localName));for(let i of e)i.toggled=t.includes(i.value)}#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Si.#L],this.#T.append(document.importNode(Si.#A.content,!0)),this.addEventListener("pointerdown",(t=>this.#pt(t))),this.addEventListener("click",(t=>this.#I(t))),this.addEventListener("keydown",(t=>this.#bt(t)))}#pt(t){if(t.buttons>1)t.preventDefault();else if(t.preventDefault(),!1===this.matches(":focus")){let t=Pe(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("pointerup",(()=>{t?t.focus():this.blur()}),{once:!0})}}#I(t){let e=t.target.closest("x-tag");e&&!1===t.defaultPrevented&&(e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{detail:e})))}#bt(t){if(!1===t.defaultPrevented)if("Enter"===t.code||"Space"===t.code){let e=this.querySelector("x-tag:focus");e&&(t.preventDefault(),e.click())}else if("ArrowRight"===t.key){let t=this.querySelector("x-tag:focus");t&&(t.nextElementSibling?t.nextElementSibling.focus():t!==t.parentElement.firstElementChild&&t.parentElement.firstElementChild.focus())}else if("ArrowLeft"===t.key){let t=this.querySelector("x-tag:focus");t&&(t.previousElementSibling?t.previousElementSibling.focus():t!==t.parentElement.lastElementChild&&t.parentElement.lastElementChild.focus())}}}customElements.define("x-tags",Si);class Ei extends HTMLElement{static observedAttributes=["spellcheck","disabled","size"];static#A=St`<template><main id="main"><div id="tags"><slot></slot><span id="input" part="input" spellcheck="false" tabindex="0"></span></div></main><x-popover id="suggestions-popover" part="suggestions"><div id="suggested-tags"></div></x-popover></template>`;static#L=Et`:host{display:block;position:relative;min-height:29px;font-size:12px}:host(:focus){z-index:10}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}#main{width:100%;height:100%;cursor:text}#tags{display:flex;flex-wrap:wrap}:host([mixed]) #tags{opacity:.7}#input{align-items:center;justify-content:flex-start;height:25px;margin:2px;padding:0 3px 0 6px;box-sizing:border-box;line-height:25px;color:inherit;outline:0;white-space:pre;cursor:text;user-select:text;pointer-events:none}#input[contenteditable]:focus{flex-grow:1;pointer-events:all}#suggestions-popover{width:200px;max-height:200px;padding:4px;box-sizing:border-box}#suggestions-popover #suggested-tags{flex:1;overflow:auto}#suggestions-popover x-tag{display:block;margin:4px 0 0 0}#suggestions-popover x-tag:first-child{margin-top:0}`;get value(){return[...this.children].filter((t=>"x-tag"===t.localName)).map((t=>t.value)).filter((t=>null!==t))}get delimiter(){return this.hasAttribute("delimiter")?this.getAttribute("delimiter"):","}set delimiter(t){this.setAttribute("delimiter",t)}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get suggestions(){return this.hasAttribute("suggestions")}set suggestions(t){t?this.setAttribute("suggestions",""):this.removeAttribute("suggestions")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#ct=0;#D=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#T.adoptedStyleSheets=[Ce.themeStyleSheet,Ei.#L],this.#T.append(document.importNode(Ei.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.#M.input.addEventListener("focusin",(t=>this.#ns(t))),this.#M.input.addEventListener("focusout",(t=>this.#os(t))),this.#T.addEventListener("pointerdown",(t=>this.#hi(t))),this.#T.addEventListener("remove",(t=>this.#ss(t))),this.#T.addEventListener("keydown",(t=>this.#bt(t))),this.#M.input.addEventListener("input",(t=>this.#ie(t)))}connectedCallback(){this.#hs(),this.#xt(),this.#F(),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t,e,i){e!==i&&("spellcheck"===t?this.#oe():"disabled"===t?this.#Ot():"size"===t&&this.#tt())}clear(){let t=[...this.children].filter((t=>"x-tag"===t.localName));if(t.length>0){for(let e of t)e.remove(),this.dispatchEvent(new CustomEvent("remove",{detail:e}));this.#rs(),this.#hs(),this.dispatchEvent(new CustomEvent("change"))}}getSuggestions(t){return[]}#as(){let t=new Range;t.selectNodeContents(this.#M.input);let e=t.getBoundingClientRect();return 0===e.x&&0===e.width&&(e=this.#M.input.getBoundingClientRect(),e.width=20),e}#ls(){let t=this.#M.input.textContent.trim();if(this.#M.input.textContent="",t.length>0&&!1===this.value.includes(t)){let e;if(t.includes(":")){let[i,s]=t.split(":").map((t=>t.trim()));e=St`<x-tag class="tag" value="${t}" removable><x-label slot="scope">${i}</x-label><x-label>${s}</x-label></x-tag>`}else e=St`<x-tag class="tag" value="${t}" removable><x-label>${t}</x-label></x-tag>`;this.append(e),this.#rs(),this.#hs(),this.dispatchEvent(new CustomEvent("add",{detail:e})),this.dispatchEvent(new CustomEvent("change"))}}#hi(t){if(t.target===this.#M.main||t.target===this.#M.tags)t.preventDefault(),this.#M.input.setAttribute("contenteditable",""),this.#ds();else if(t.target===this.#M.input)this.#M.input.setAttribute("contenteditable",""),this.#rs();else if(t.target.closest("x-popover")){t.preventDefault();let e=t.target.closest("x-tag");e&&(this.#M.input.textContent="",this.#M["suggestions-popover"].close(),this.append(e),this.dispatchEvent(new CustomEvent("add",{detail:e})),this.dispatchEvent(new CustomEvent("change")))}else t.target.closest("x-tag")&&(this.#M.input.focus(),this.#ls())}#ss(t){t.stopPropagation();let e=t.target;e.remove(),this.#hs(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change"))}#oe(){this.#M.input.spellcheck=this.spellcheck}#Ot(){this.#xt()}#tt(){this.#F()}async#ns(){this.#M.input.setAttribute("contenteditable",""),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),await ve(10),this.#M.input.matches(":focus")&&(this.#ds(),this.#rs())}#os(){this.#ls(),this.#M.input.removeAttribute("contenteditable"),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.#M["suggestions-popover"].close()}#ie(t){this.#M.input.textContent.includes(this.delimiter)&&this.#ls(),this.#hs(),this.dispatchEvent(new CustomEvent("input")),this.#rs(t.inputType)}#bt(t){if("Enter"===t.key)t.target===this.#M.input&&(t.preventDefault(),this.#ls());else if("Backspace"===t.key){if(t.target===this.#M.input){if(0===this.#M.input.textContent.length){let t=[...this.children].filter((t=>"x-tag"===t.localName)),e=t[t.length-1]||null;e&&(e.remove(),this.#rs(),this.#hs(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change")))}}else if("x-tag"===t.target.localName){let e=[...this.children].filter((t=>"x-tag"===t.localName)),i=t.target,s=e.indexOf(i),n=e[s+1]||null,o=e[s-1]||null;n?n.focus():o?o.focus():this.#M.input.focus(),i.remove(),this.#hs(),this.dispatchEvent(new CustomEvent("remove",{detail:i})),this.dispatchEvent(new CustomEvent("change"))}}else if("ArrowDown"===t.key){if(this.#M["suggestions-popover"].opened){let e=[...this.#M["suggested-tags"].children];if(e.length>1){t.preventDefault();let i=null;{let t=e.find((t=>t.toggled));if(t){t.toggled=!1;let s=e.indexOf(t);i=e[s+1]||e[0]}else i=e[0]}i.toggled=!0,i.scrollIntoViewIfNeeded();{let t=this.#T.getSelection().getRangeAt(0).startOffset,e=i.querySelector("x-label").textContent;this.#M.input.textContent=e,this.#ds(t,e.length)}}}}else if("ArrowUp"===t.key&&this.#M["suggestions-popover"].opened){let e=[...this.#M["suggested-tags"].children];if(e.length>1){t.preventDefault();let i=null;{let t=e.find((t=>t.toggled));if(t){t.toggled=!1;let s=e.indexOf(t);i=e[s-1]||e[e.length-1]}else i=e[e.length-1]}i.toggled=!0,i.scrollIntoViewIfNeeded();{let t=this.#T.getSelection().getRangeAt(0).startOffset,e=i.querySelector("x-label").textContent;this.#M.input.textContent=e,this.#ds(t,e.length)}}}}#J(){this.#hs()}#hs(){let t=this.querySelector(":scope > x-label");t&&(t.hidden=this.value.length>0||this.#M.input.textContent.length>0)}#xt(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#ct=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#ct>0?this.#ct:0),this.#ct=0)}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#ds(t=0,e=this.#M.input.textContent.length){let i=new Range;0===t&&e===this.#M.input.textContent.length?i.selectNodeContents(this.#M.input):(i.setStart(this.#M.input.firstChild,t),i.setEnd(this.#M.input.firstChild,e));let s=window.getSelection();s.removeAllRanges(),s.addRange(i)}#rs(t="insertText"){if(this.suggestions){let e=this.#M.input.textContent,i=this.#T.getSelection().getRangeAt(0);!1===i.collapsed&&(e=e.substring(0,i.startOffset));let s=this.getSuggestions(e);if(s.length>0&&"deleteContentBackward"!==t){let t=this.#M.input.textContent,e=s[0].querySelector("x-label").textContent,i=this.#M.input.firstChild;i&&(i.textContent=e,this.#ds(t.length,e.length))}if(0===s.length)this.#M["suggested-tags"].innerHTML="",!0===this.#M["suggestions-popover"].opened&&this.#M["suggestions-popover"].close();else{let i=this.#as();this.#M["suggested-tags"].innerHTML="",this.#M["suggested-tags"].append(...s),"deleteContentBackward"!==t&&e.length>0&&(s[0].toggled=!0),!1===this.#M["suggestions-popover"].opened||this.#M["suggestions-popover"].close(!1),this.#M["suggestions-popover"].open(i),this.#M["suggested-tags"].scrollTop=0}}}}customElements.define("x-tagsinput",Ei);class Ai extends HTMLElement{static observedAttributes=["value","spellcheck","disabled","validation","size"];static#A=St`<template><main id="main"><slot></slot><div id="editor" contenteditable="plaintext-only" spellcheck="false"></div></main></template>`;static#L=Et`:host{display:block;position:relative;width:100%;min-height:100px;box-sizing:border-box;background:#fff;font-size:12.5px;overflow:auto}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}::-webkit-scrollbar{max-width:6px;max-height:6px;background:0 0}::-webkit-scrollbar-track{border-radius:25px}::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);border-radius:25px}::-webkit-scrollbar-corner{display:none}#main{display:flex;flex-flow:column;width:100%;min-height:100%}#editor{flex:1;padding:2px 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit}`;get value(){return this.#M.editor.textContent}set value(t){this.#M.editor.textContent=t,"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Wt||this.#Jt)&&this.reportValidity(),this.#Qt()}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get minLength(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0}set minLength(t){this.setAttribute("minlength",t)}get maxLength(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity}set maxLength(t){this.setAttribute("maxlength",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get validation(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto"}set validation(t){this.setAttribute("validation",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get empty(){return this.hasAttribute("empty")}get error(){return this.hasAttribute("error")}#T=null;#M={};#us="";#ct=0;#Wt=null;#Jt=null;#D=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#T.adoptedStyleSheets=[Ai.#L],this.#T.append(document.importNode(Ai.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.addEventListener("click",(t=>this.#I(t))),this.addEventListener("focusin",(t=>this.#te(t))),this.addEventListener("focusout",(t=>this.#ee(t))),this.#M.editor.addEventListener("click",(t=>this.#cs(t))),this.#M.editor.addEventListener("input",(t=>this.#ai(t)))}connectedCallback(){this.#xt(),this.#F(),this.#Qt(),"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Wt||this.#Jt)&&this.reportValidity(),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t){"value"===t?this.#Q():"spellcheck"===t?this.#oe():"disabled"===t?this.#Ot():"validation"===t?this.#ae():"size"===t&&this.#tt()}reportValidity(){let t=new CustomEvent("beforevalidate",{bubbles:!1,cancelable:!0});return this.dispatchEvent(t),!1===t.defaultPrevented&&(this.value.length<this.minLength?this.#Wt={href:"#entered-text-is-too-short"}:this.value.length>this.maxLength?this.#Wt={href:"#entered-text-is-too-long"}:this.required&&0===this.value.length?this.#Wt={href:"#required-field"}:this.#Wt=null,this.#de()),null===this.#Wt&&null===this.#Jt}setCustomValidity(t){this.#Jt=""===t?null:t,this.#de()}#de(){let t=this.#Jt||this.#Wt;t?this.setAttribute("error",""):this.removeAttribute("error");{let e=this.querySelector(':scope > x-tooltip[type="error"]');if(t&&this.matches(":focus")){if(e||(e=Re("x-tooltip"),e.setAttribute("type","error"),this.append(e)),t.href){let i=t.args?Object.entries(t.args).map((([t,e])=>`${t}:${e}`)).join(","):"";e.innerHTML=`<x-message href="${t.href}" args="${i}"></x-message>`}else e.innerHTML=t;ve(10).then((()=>{e.open(this)}))}else e&&e.close().then((()=>e.remove()))}}#Qt(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty")}#xt(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#ct=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#ct>0?this.#ct:0),this.#ct=0)}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#Q(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&document.execCommand("selectAll")}#oe(){this.#M.editor.spellcheck=this.spellcheck}#Ot(){this.#M.editor.disabled=this.disabled,this.#xt()}#ae(){"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Wt||this.#Jt)&&this.reportValidity()}#tt(){this.#F()}#I(){this.#de()}#te(){this.#us=this.value,this.#de(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#ee(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.#T.getSelection().collapse(this.#M.main),"auto"===this.validation||"instant"===this.validation?this.reportValidity():"manual"===this.validation&&this.#de(),null!==(this.#Wt||this.#Jt)||this.value===this.#us&&!this.mixed||(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))}#cs(t){t.detail>=4&&document.execCommand("selectAll")}#ai(t){this.dispatchEvent(new CustomEvent("input",{bubbles:!0})),this.#Qt(),"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Wt||this.#Jt)&&this.reportValidity()}}customElements.define("x-texteditor",Ai);class Li extends HTMLElement{static observedAttributes=["type","size"];static#ps=St`<template><svg data-type="ring" viewBox="0 0 100 100"><ellipse ry="40" rx="40" cy="50" cx="50" stroke-width="10"/></svg></template>`;static#ms=St`<template><svg data-type="spin" viewBox="0 0 100 100"><rect transform="rotate(  0 50 50) translate(0 -38)"></rect><rect transform="rotate( 30 50 50) translate(0 -38)"></rect><rect transform="rotate( 60 50 50) translate(0 -38)"></rect><rect transform="rotate( 90 50 50) translate(0 -38)"></rect><rect transform="rotate(120 50 50) translate(0 -38)"></rect><rect transform="rotate(150 50 50) translate(0 -38)"></rect><rect transform="rotate(180 50 50) translate(0 -38)"></rect><rect transform="rotate(210 50 50) translate(0 -38)"></rect><rect transform="rotate(240 50 50) translate(0 -38)"></rect><rect transform="rotate(270 50 50) translate(0 -38)"></rect><rect transform="rotate(300 50 50) translate(0 -38)"></rect><rect transform="rotate(330 50 50) translate(0 -38)"></rect></svg></template>`;static#L=Et`:host{display:block;width:30px;height:30px;box-sizing:border-box}:host([hidden]){display:none}:host([type=ring]){color:#4285f4}:host([type=spin]){color:#404040}svg{color:inherit;width:100%;height:100%}svg[data-type=ring] ellipse{fill:none;stroke:currentColor;stroke-linecap:round;stroke-dasharray:10,1000;animation:ring-dash-animation 2s cubic-bezier(.8,.25,.25,.9) infinite,ring-rotate-animation 2s linear infinite;transform-origin:center}@keyframes ring-rotate-animation{to{transform:rotate(360deg)}}@keyframes ring-dash-animation{50%{stroke-dasharray:200;stroke-dashoffset:0}100%{stroke-dasharray:245;stroke-dashoffset:-260}}svg[data-type=spin] rect{x:46.5px;y:40px;width:7px;height:22px;rx:5px;ry:5px;fill:currentColor;animation-name:spin-animation;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:0s}svg[data-type=spin] rect:nth-child(1){animation-delay:calc(1s *  1/12)}svg[data-type=spin] rect:nth-child(2){animation-delay:calc(1s *  2/12)}svg[data-type=spin] rect:nth-child(3){animation-delay:calc(1s *  3/12)}svg[data-type=spin] rect:nth-child(4){animation-delay:calc(1s *  4/12)}svg[data-type=spin] rect:nth-child(5){animation-delay:calc(1s *  5/12)}svg[data-type=spin] rect:nth-child(6){animation-delay:calc(1s *  6/12)}svg[data-type=spin] rect:nth-child(7){animation-delay:calc(1s *  7/12)}svg[data-type=spin] rect:nth-child(8){animation-delay:calc(1s *  8/12)}svg[data-type=spin] rect:nth-child(9){animation-delay:calc(1s *  9/12)}svg[data-type=spin] rect:nth-child(10){animation-delay:calc(1s * 10/12)}svg[data-type=spin] rect:nth-child(11){animation-delay:calc(1s * 11/12)}svg[data-type=spin] rect:nth-child(12){animation-delay:calc(1s * 12/12)}@keyframes spin-animation{0%{opacity:1}100%{opacity:0}}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"ring"}set type(t){this.setAttribute("type",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#D=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Li.#L]}connectedCallback(){this.#J(),this.#F(),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.#J():"size"===t&&this.#F())}#J(){let t=this.#T.firstElementChild,e="ring"===this.type?Li.#ps:Li.#ms;null===t?this.#T.append(document.importNode(e.content,!0)):t.dataset.type!==this.type&&t.replaceWith(document.importNode(e.content,!0)),!1===this.hasAttribute("type")&&this.setAttribute("type",this.type)}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-throbber",Li);class Mi extends HTMLElement{static observedAttributes=["disabled"];static#A=St`<template><slot></slot></template>`;static#L=Et`:host{display:none;bottom:-30px;position:fixed;padding:3px 10px;width:fit-content;height:fit-content;max-width:300px;box-sizing:border-box;pointer-events:none;border-width:1px;border-style:solid;font-size:12px;z-index:99999;--align:bottom;--whitespace:8px;--open-transition:0 opacity cubic-bezier(0.4, 0, 0.2, 1);--close-transition:0 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:block}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"hint"}set type(t){this.setAttribute("type",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get opened(){return this.hasAttribute("opened")}#T=null;#M={};#Si=null;#Ei;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Mi.#L],this.#T.append(document.importNode(Mi.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t}attributeChangedCallback(t){"disabled"===t&&this.disabled&&this.opened&&this.close()}open(t,e=!0){return new Promise((async i=>{if(!1===this.opened&&this.isConnected){if(this.setAttribute("opened",""),this.#Li(t),this.#Si=Ie(this),this.#Si&&this.#Si.addEventListener("scroll",this.#Ei=()=>{this.close()},{once:!0}),e){let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=We(t);"opacity"===e&&await this.animate({opacity:["0","1"]},{duration:i,easing:s}).finished}this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this}))}i()}))}close(t=!0){return new Promise((async e=>{if(!0===this.opened){if(this.removeAttribute("opened"),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this})),this.#Si.removeEventListener("scroll",this.#Ei),t){let t=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=We(t);this.setAttribute("animating",""),"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished}this.removeAttribute("animating")}e()}))}#Li(t){let e=getComputedStyle(this).getPropertyValue("--align").trim();parseInt(getComputedStyle(this).borderWidth);let i=parseInt(getComputedStyle(this).getPropertyValue("--whitespace")),s=0,n=0,o=null;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";{let e=h(this.getBoundingClientRect());0===e.top&&0===e.left||(s=-e.left,n=-e.top),o=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect}if("bottom"===e||"top"===e){let t=(t=!1)=>{this.style.maxHeight=null;let e=h(this.getBoundingClientRect()),s=0;if(this.style.top=n+o.bottom+i+"px",e=h(this.getBoundingClientRect()),s=e.bottom+8-window.innerHeight,t&&s>0){let t=e.height-s;s=0,this.style.maxHeight=t+"px"}return s},r=(t=!1)=>{this.style.maxHeight=null;let e=h(this.getBoundingClientRect()),s=0;if(this.style.top=n+o.top-i-e.height+"px",e=h(this.getBoundingClientRect()),s=-(e.top-8),t&&s>0){let t=e.height-s;s=0,this.style.maxHeight=t+"px",this.style.top=n+o.top-i-t+"px"}return s},a=()=>{this.style.maxWidth=null;let t=h(this.getBoundingClientRect()),e=0,i=0;return this.style.left=s+o.left+o.width/2-t.width/2+"px",t=h(this.getBoundingClientRect()),e=-(t.left-8),i=t.right+8-window.innerWidth,[e,i]},l=(t=!1)=>{this.style.maxWidth=null;let e=h(this.getBoundingClientRect()),i=0;if(this.style.left=s+window.innerWidth-8-e.width+"px",e=h(this.getBoundingClientRect()),i=-(e.left-8),t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px",this.style.left=s+window.innerWidth-8-t+"px"}return i},d=(t=!1)=>{this.style.maxWidth=null;let e=h(this.getBoundingClientRect()),i=0;if(this.style.left=s+8+"px",e=h(this.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px"}return i};if("bottom"===e){let e=t();if(e>0){let i=r();i>0&&(i>e?t(!0):r(!0))}}else if("top"===e){let e=r();if(e>0){let i=t();i>0&&(i>e?r(!0):t(!0))}}{let[t,e]=a();e>0?(t=l(),t>0&&l(!0)):t>0&&(e=d(),e>0&&d(!0))}}else if("right"===e||"left"===e){let t=(t=!1)=>{this.style.maxWidth=null;let e=h(this.getBoundingClientRect()),n=0;if(this.style.left=s+o.right+i+"px",e=h(this.getBoundingClientRect()),n=e.right+8-window.innerWidth,t&&n>0){let t=e.width-n;n=0,this.style.maxWidth=t+"px"}return n},r=(t=!1)=>{this.style.maxWidth=null;let e=h(this.getBoundingClientRect()),n=0;if(this.style.left=s+o.left-i-e.width+"px",e=h(this.getBoundingClientRect()),n=-(e.left-8),t&&n>0){let t=e.width-n;n=0,this.style.maxWidth=t+"px",this.style.left=s+o.left-i-t+"px"}return n},a=()=>{this.style.maxHeight=null;let t=h(this.getBoundingClientRect()),e=0,i=0;return this.style.top=n+o.top+o.height/2-t.height/2+"px",t=h(this.getBoundingClientRect()),e=-(t.top-8),i=t.bottom+8-window.innerHeight,[e,i]},l=(t=!1)=>{this.style.maxHeight=null;let e=h(this.getBoundingClientRect()),i=0;if(this.style.top=n+window.innerHeight-8-e.height+"px",e=h(this.getBoundingClientRect()),i=-(e.top-8),t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px",this.style.top=n+window.innerHeight-8-t+"px"}return i},d=(t=!1)=>{this.style.maxHeight=null;let e=h(this.getBoundingClientRect()),i=0;if(this.style.top=n+8+"px",e=h(this.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px"}return i};if("right"===e){let e=t();if(e>0){let i=r();i>0&&(i>e?t(!0):r(!0))}}else if("left"===e){let e=r();if(e>0){let i=t();i>0&&(i>e?r(!0):t(!0))}}{let[t,e]=a();e>0?(t=l(),t>0&&l(!0)):t>0&&(e=d(),e>0&&d(!0))}}}}customElements.define("x-tooltip",Mi);let{PI:Ti,sqrt:$i,atan2:Di,sin:Ri,cos:Pi,pow:Ii}=Math;class Oi extends HTMLElement{static observedAttributes=["value","size"];static#A=St`<template><x-box vertical><div id="huesat-slider" part="slider"><img id="huesat-image"><div id="huesat-marker"></div></div><div id="value-slider" part="slider"><div id="value-slider-track"><div id="value-slider-marker"></div></div></div><div id="alpha-slider" part="slider"><div id="alpha-slider-gradient"></div><div id="alpha-slider-track"><div id="alpha-slider-marker"></div></div></div></x-box></template>`;static#L=Et`:host{display:block;width:100%;user-select:none;--wheel-max-width:none}:host([hidden]){display:none}#huesat-slider{display:flex;position:relative;width:100%;max-width:var(--wheel-max-width);margin:0 auto;height:auto;touch-action:pinch-zoom}#huesat-image{width:100%;height:100%;border-radius:999px;pointer-events:none}#huesat-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#value-slider{width:100%;height:30px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #value-slider{height:24px}:host([computedsize=large]) #value-slider{height:35px}#value-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#value-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#T=null;#M={};#D=null;#H=0;#j=0;#Ti=100;#q=1;#gs=!1;#bs=!1;#Z=!1;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Oi.#L],this.#T.append(document.importNode(Oi.#A.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#M[t.id]=t;this.#M["huesat-slider"].addEventListener("pointerdown",(t=>this.#fs(t))),this.#M["value-slider"].addEventListener("pointerdown",(t=>this.#xs(t))),this.#M["alpha-slider"].addEventListener("pointerdown",(t=>this.#W(t)))}async connectedCallback(){this.#J(),this.#F(),""===this.#M["huesat-image"].src&&(this.#M["huesat-image"].src=await z()),Ce.addEventListener("sizechange",this.#D=()=>this.#F())}disconnectedCallback(){Ce.removeEventListener("sizechange",this.#D)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.#Q():"size"===t&&this.#tt())}#J(){this.#ws(),this.#vs(),this.#ys(),this.#ht(),this.#rt()}#ws(){let t=this.#H,e=this.#j,i=100,s=n*t/180;let o=e/100*i/2,h=50,r=(i-(50+o*Pi(s)))/i*100,a=(h-o*Ri(s))/i*100;this.#M["huesat-marker"].style.left=r+"%",this.#M["huesat-marker"].style.top=a+"%"}#vs(){this.#M["value-slider-marker"].style.left=100-r(this.#Ti,0,100,2)+"%"}#ys(){let t=v([this.#H,this.#j,100,1],"hsva","hex");this.#M["value-slider"].style.background=`linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1)), ${t}`}#ht(){this.#M["alpha-slider-marker"].style.left=r(100*(1-this.#q),0,100,2)+"%"}#rt(){let[t,e,i]=w(this.#H,this.#j,this.#Ti).map((t=>o(t,0)));this.#M["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, rgba(${t}, ${e}, ${i}, 1), rgba(${t}, ${e}, ${i}, 0))\n    `}#F(){let t=Ce.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#Q(){if(!1===this.#gs&&!1===this.#bs&&!1===this.#Z){let[t,e,i,s]=(new E).parse(this.value,"hsva");this.#H=t,this.#j=e,this.#Ti=i,this.#q=s,this.#J()}}#tt(){this.#F()}#fs(t){if(t.buttons>1)return;let e,i,s=this.#M["huesat-slider"].getBoundingClientRect();this.#gs=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.#M["huesat-slider"].style.cursor="default",this.#M["huesat-slider"].setPointerCapture(t.pointerId);let n=(t,e)=>{let i=s.width/2,n=t-s.left-i,h=e-s.top-i,r=Ii(n,2)+Ii(h,2),a=Di(h,n);r>Ii(i,2)&&(n=i*Pi(a),h=i*Ri(a),r=Ii(n,2)+Ii(h,2),a=Di(h,n)),this.#H=o((a+Ti)/(2*Ti)*360,3),this.#j=o($i(r)/i*100,3),this.value=v([this.#H,this.#j,this.#Ti,this.#q],"hsva","hsla"),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#ws(),this.#ys(),this.#rt()};n(t.clientX,t.clientY),this.#M["huesat-slider"].addEventListener("pointermove",e=t=>{n(t.clientX,t.clientY)}),this.#M["huesat-slider"].addEventListener("pointerup",i=t=>{this.#M["huesat-slider"].removeEventListener("pointermove",e),this.#M["huesat-slider"].removeEventListener("pointerup",i),this.#M["huesat-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#gs=!1})}#xs(t){if(t.buttons>1)return;let e,i,s=this.#M["value-slider-track"].getBoundingClientRect();this.#bs=!0,this.#M["value-slider"].style.cursor="default",this.#M["value-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=100-(t-s.x)/s.width*100;e=r(e,0,100,2),e!==this.#Ti&&(this.#Ti=e,this.value=v([this.#H,this.#j,this.#Ti,this.#q],"hsva","hsla"),this.#vs(),this.#rt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#M["value-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#M["value-slider"].addEventListener("pointerup",i=()=>{this.#M["value-slider"].removeEventListener("pointermove",e),this.#M["value-slider"].removeEventListener("pointerup",i),this.#M["value-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#bs=!1})}#W(t){if(t.buttons>1)return;let e,i,s=this.#M["alpha-slider-track"].getBoundingClientRect();this.#Z=!0,this.#M["alpha-slider"].style.cursor="default",this.#M["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=1-(t-s.x)/s.width;e=r(e,0,1,2),e!==this.#q&&(this.#q=e,this.value=v([this.#H,this.#j,this.#Ti,this.#q],"hsva","hsla"),this.#ht(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#M["alpha-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#M["alpha-slider"].addEventListener("pointerup",i=()=>{this.#M["alpha-slider"].removeEventListener("pointermove",e),this.#M["alpha-slider"].removeEventListener("pointerup",i),this.#M["alpha-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Z=!1})}}customElements.define("x-wheelcolorpicker",Oi);export{Ce as default};